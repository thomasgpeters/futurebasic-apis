/*  DirectoryEnumerator  Bernie Wylde 20180422*/include "NSLog.incl"void local fn EnumerateDirectory( dirURL as CFURLRef )NSDirectoryEnumerationOptions options = NSDirectoryEnumerationSkipsPackageDescendants + NSDirectoryEnumerationSkipsHiddenFilesDirectoryEnumeratorRef enumerator = fn FileManagerEnumeratorAtURL( dirURL, NULL, options, NULL, NULL )CFURLRef url = fn EnumeratorNextObject( enumerator )while ( url )NSLog(@"Level: %ld, URL: %@",fn DirectoryEnumeratorLevel(enumerator),url)url = fn EnumeratorNextObject( enumerator )wendend fnvoid local fn ChooseDirectoryOpenPanelSetCanChooseFiles( 1, NO )OpenPanelSetCanChooseDirectories( 1, YES )CFURLRef url = openpanel 1, @"Choose directory",, @"Choose"if ( url )fn EnumerateDirectory( url )end ifend fnvoid local fn BuildWindowwindow 1, @"DirectoryEnumerator", (0,0,550,400)button 1,,, @"Choose directoryâ€¦", (14,13,154,32)end fnvoid local fn DoDialog( ev as long, tag as long )select ( ev )case _btnClickselect ( tag )case 1 : fn ChooseDirectoryend selectend selectend fnfn BuildWindowon dialog fn DoDialogHandleEvents