/*  UserNotificationCenter 4  UserNotificationSetDeliveryDate  title + informativeText + sound + image*/include resources "cup.png"void local fn SendNotificationUserNotificationRef note = fn UserNotificationWithTitle( @"UserNotificationCenter Demo", NULL, @"Did resign active", NSUserNotificationDefaultSoundName )UserNotificationSetContentImage( note, fn ImageNamed(@"cup") )UserNotificationSetDeliveryDate( note, fn DateWithTimeIntervalSinceNow(5) )UserNotificationCenterScheduleNotification( note )end fnvoid local fn BuildWindowwindow 1, @"UserNotificationCenter", (0,0,550,400)textlabel 1, @"User notification will be delivered 5 seconds after this app is sent to background.", (26,191,498,17)button 2,,, @"Send app to background", (181,13,189,32)end fnvoid local fn DoDialog( ev as long )CFArrayRef appsif ( ev == _btnClick )// deactivate app by bringing Finder to frontapps = fn RunningApplicationsWithBundleIdentifier( @"com.apple.finder" )fn RunningApplicationActivate( apps[0], NSApplicationActivateIgnoringOtherApps )end ifend fnvoid local fn DoAppEvent( ev as long )select ( ev )case _appDidResignActivefn SendNotificationend selectend fnfn BuildWindowon appevent fn DoAppEventon dialog fn DoDialogHandleEvents