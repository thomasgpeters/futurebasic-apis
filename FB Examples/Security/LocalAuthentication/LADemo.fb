include "NSLog.incl"include "Tlbx LocalAuthentication.incl"_window = 1begin enum 1_labelend enumvoid local fn BuildWindowwindow _window, @"LADemo", (0,0,480,270)textlabel _label, @"Welcome to LADemo\n\nYou logged in successfully", (128,109,224,51)ControlSetAlignment( _label, NSTextAlignmentCenter )end fnvoid local fn MyEvaluatePolicyCallback( ref as LAContextref, success as BOOL, err as ErrorRef, userData as ptr )if ( success )dispatchmainfn BuildWindow// build window on main threaddispatchendelseNSLog(@"Evaluate policy failed!")end ifend fnvoid local fn DoItLAContextRef contextLAPolicy     policycontext = fn LAContextInitpolicy  = LAPolicyDeviceOwnerAuthenticationif ( fn LAContextCanEvaluatePolicy( context, policy, NULL )	)LAContextEvaluatePolicy( context, policy, @"authenticate", @fn MyEvaluatePolicyCallback, NULL )elseNSLog(@"Can't evaluate policy")end ifend fnfn DoItHandleEvents