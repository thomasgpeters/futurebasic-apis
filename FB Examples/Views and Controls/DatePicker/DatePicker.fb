include "NSLog.incl"_window = 1begin enum 1_picker1_picker2_picker3end enumvoid local fn BuildWindowwindow _window, @"DatePickers", (0,0,316,300)CFDateRef dt = fn CFDateCreate( _kCFAllocatorDefault, fn CFAbsoluteTimeGetCurrent() )// params: tag, enabled, date, rect, style, elements, wndTagdatepicker _picker1,, dt, (20,257,99,27)datepicker _picker2,, dt, (20,203,164,27),, NSYearMonthDayDatePickerElementFlag + NSHourMinuteSecondDatePickerElementFlagdatepicker _picker3,, dt,, NSDatePickerStyleClockAndCalendar, NSYearMonthDayDatePickerElementFlag + NSHourMinuteSecondDatePickerElementFlagDatePickerSetDrawsBackground( _picker3, NO )CFRelease( dt )end fnvoid local fn DoDialog( ev as long, tag as long, wnd as long )CFDateRef dtselect ( ev )case _btnClickdt = fn DatePickerDateValue(tag)// the returned date may need adjusting for DSTNSLog(@"datepicker %ld, date: %@",tag,dt)end selectend fnfn BuildWindowon dialog fn DoDialogHandleEvents