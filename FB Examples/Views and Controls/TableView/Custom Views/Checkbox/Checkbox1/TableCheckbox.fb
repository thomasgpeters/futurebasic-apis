/*  Table Checkbox  Checkbox only*/// identifier#define CHECK_IDENTIFIER @"checkbox"// keys#define STATE_KEY @"state"#define TITLE_KEY @"title"_window = 1begin enum 1000_tableView_tableCheckboxend enumvoid local fn MyCustomCellCallback( tag as long, identifier as CFStringRef, row as NSInteger, vw as CFTypeRef, userData as ptr )CFDictionaryRef dict = fn ArrayObjectAtIndex( fn TableViewData( tag ), row )ButtonSetState( vw, fn NumberIntegerValue( fn DictionaryObjectForKey( dict, STATE_KEY ) ) )ButtonSetTitle( vw, fn DictionaryObjectForKey( dict, TITLE_KEY ) )end fnvoid local fn TableDataSetValue( row as NSInteger, key as CFStringRef, value as CFTypeRef )CFMutableDictionaryRef dict = (CFMutableDictionaryRef)fn ArrayObjectAtIndex( fn TableViewData(_tableView), row )MutableDictionarySetObjectForKey( dict, value, key )end fnvoid local fn TableDataAddRow( state as NSInteger, title as CFStringRef )// make the dictionary mutable to make it easier to change just one key/value laterMutableArrayAddObject( fn TableViewData(_tableView), fn ObjectMutableCopy( @{STATE_KEY:@(state),TITLE_KEY:title} ) )end fnvoid local fn CreateTableDatafn TableDataAddRow( NSControlStateValueOn, @"All Along The Watchtower" )fn TableDataAddRow( NSControlStateValueOn, @"Ballad Of A Thin Man" )fn TableDataAddRow( NSControlStateValueOff, @"Changing Of The Guarrds" )fn TableDataAddRow( NSControlStateValueOn, @"Desolation Row" )fn TableDataAddRow( NSControlStateValueOff, @"Every Grain Of Sand" )fn TableDataAddRow( NSControlStateValueOn, @"Fourth Time Around" )fn TableDataAddRow( NSControlStateValueOff, @"Gates Of Eden" )fn TableDataAddRow( NSControlStateValueOn, @"Highway 61 Revisited" )fn TableDataAddRow( NSControlStateValueOn, @"It Takes A Lot To Laugh, It Takes A Train To Cry" )fn TableDataAddRow( NSControlStateValueOn, @"Just Like Tom Thumb's Blues" )fn TableDataAddRow( NSControlStateValueOff, @"Knockin' On Heaven's Door" )fn TableDataAddRow( NSControlStateValueOn, @"Leopard-Skin Pill-Box Hat" )fn TableDataAddRow( NSControlStateValueOff, @"Maggie's Farm" )fn TableDataAddRow( NSControlStateValueOn, @"Not Dark Yet" )fn TableDataAddRow( NSControlStateValueOff, @"One Of Us Must Know (Sooner Or Later)" )fn TableDataAddRow( NSControlStateValueOff, @"Positively 4th Street" )fn TableDataAddRow( NSControlStateValueOn, @"Quinn The Eskimo (The Mighty Quinn)" )fn TableDataAddRow( NSControlStateValueOn, @"Rainy Day Women #12 & 35" )fn TableDataAddRow( NSControlStateValueOff, @"Sign On The Window" )fn TableDataAddRow( NSControlStateValueOn, @"Tangled Up In Blue" )fn TableDataAddRow( NSControlStateValueOff, @"Up To Me" )fn TableDataAddRow( NSControlStateValueOn, @"Visions Of Johanna" )fn TableDataAddRow( NSControlStateValueOn, @"Where Are You Tonight (Journey Through Dark Heat)" )fn TableDataAddRow( NSControlStateValueOff, @"You Angel You" )TableViewReloadData(_tableView)end fnvoid local fn BuildWindownibwindow _window, @"Window"TableViewSetCustomCellCallback( _tableView, CHECK_IDENTIFIER, @fn MyCustomCellCallback, NULL )fn CreateTableDataend fnvoid local fn DoDialog( ev as long, tag as long, wnd as long, obj as CFTypeRef )select ( ev )case _btnClickselect ( tag )case _tableCheckboxNSInteger row = fn TableViewRowForView( _tableView, obj )fn TableDataSetValue( row, STATE_KEY, @(fn ButtonState( obj )) )end selectcase _windowWillCloseendend selectend fnfn BuildWindowon dialog fn DoDialogHandleEvents