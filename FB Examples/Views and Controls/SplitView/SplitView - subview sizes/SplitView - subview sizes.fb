/* Demonstrates getting size of splitView subviews Written by S.Van Voorst {Jun 2, 2019}*/include resources "quit.png"include "NSLog.incl"_window = 1_wndW = 650_wndH = 600begin enum 1_vertSplitView_horzSplitView_view1_view2_view3end enum_toolbar = 1begin enum 1_space_quitBtnend enumvoid local fn View1DrawRect( tag as long )BezierPathStrokeFillRect( fn ViewBounds( tag ), 4.0, fn ColorBlack, fn ColorRed )end fnvoid local fn View2DrawRect( tag as long )BezierPathStrokeFillRect( fn ViewBounds( tag ), 4.0, fn ColorBlack, fn ColorGreen )end fnvoid local fn View3DrawRect( tag as long )BezierPathStrokeFillRect( fn ViewBounds( tag ), 4.0, fn ColorBlack, fn ColorBlue )end fnvoid local fn BuildWindowwindow _window, @"Test window", ( 0, 0, _wndW, _wndH )// **** Toolbar **** //toolbar _toolbarToolbarSetShowsBaselineSeparator( _toolbar, YES )ToolbarSetSizeMode( _toolbar, NSToolbarSizeModeSmall )toolbaritem _space, NSToolbarFlexibleSpaceItemIdentifiertoolbaritem _quitBtn, @"quit", @"Quit", @"quit"WindowSetToolbar( _window, _toolbar )// **** Split Views - Vertical and Horizontal **** //splitview _vertSplitView, ( 0, 0, _wndW, _wndH), YES, NSSplitViewDividerStyleThinViewSetAutoresizingMask( _vertSplitView, NSViewWidthSizable + NSViewHeightSizable )SplitViewSetPositionOfDivider( _vertSplitView, 0, 300 )splitview _horzSplitView, (0, 0, _wndW, _wndH), NO, NSSplitViewDividerStyleThinViewSetAutoresizingMask( _horzSplitView, NSViewWidthSizable + NSViewHeightSizable )SplitViewSetPositionOfDivider( _horzSplitView, 0, _wndH - 300 )SplitViewAddSubview( _vertSplitView, 1, _horzSplitView )// **** View 1 **** //view subclass _view1,(0,0,300,_wndH)ViewSetAutoresizingMask( _view1, NSViewWidthSizable + NSViewHeightSizable )SplitViewAddSubview(_vertSplitView,0, _view1)// **** View 2 **** //view subclass _view2,(0,0,_wndW-300,_wndH-300)ViewSetAutoresizingMask( _view2, NSViewWidthSizable + NSViewHeightSizable )SplitViewAddSubview(_horzSplitView,0, _view2)// **** View 3 **** //view subclass _view3,(0,0,_wndW-300,_wndH-300)ViewSetAutoresizingMask( _view3, NSViewWidthSizable + NSViewHeightSizable )SplitViewAddSubview(_horzSplitView,1, _view3)end fnvoid local fn DoDialog ( ev as long, tag as long )CGRect   r1, r2, r3select ( ev )case _toolbarItemClickselect ( tag )case _quitBtn : endend selectcase _viewDrawRectselect ( tag )case _view1 : fn View1DrawRect( tag )case _view2 : fn View2DrawRect( tag )case _view3 : fn View3DrawRect( tag )end selectcase _splitViewDidResizeSubviewsr1 = fn ViewBounds(_view1)NSLog(@"red height = %0.2f",r1.size.height)r2 = fn ViewBounds(_view2)NSLog(@"green height = %0.2f",r2.size.height)r3 = fn ViewBounds(_view3)NSLog(@"blue height = %0.2f",r3.size.height)case _windowWillClose : endend selectend fnfn BuildWindowon dialog fn DoDialogHandleEvents