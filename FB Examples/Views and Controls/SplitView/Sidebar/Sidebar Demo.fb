/*  Sidebar Demo  Requires: macOS 11.0+*/_viewMenu = 1_window = 1begin enum 1_splitViewend enum_toolbar = 1begin enum 1_flexSpaceItem_colorsItemend enumvoid local fn AddToggleSidebarAccessoryViewViewRef aView = fn ViewInit( 0, fn CGRectmake(0,0,50,50) )ButtonRef btn = fn ButtonInit( 0, fn CGRectMake(13,12.5,24,24) )ButtonSetTitle( btn, @"" )ButtonSetBordered( btn, NO )ButtonSetImage( btn, fn ImageWithSystemSymbolName( @"sidebar.left", NULL ) )ButtonSetImageScaling( btn, NSImageScaleProportionallyUpOrDown )ControlSetAction( btn, @"toggleSidebar:" )ViewAddSubview( aView, btn )WindowAddTitlebarAccessoryView( _window, aView, NSLayoutAttributeLeft )end fnvoid local fn BuildWindowlong style = NSWindowStyleMaskTitled + NSWindowStyleMaskClosable + NSWindowStyleMaskMiniaturizable + NSWindowStyleMaskResizable + NSWindowStyleMaskFullSizeContentViewwindow _window, @"Sidebar Demo", (0,0,550,400), stylefn AddToggleSidebarAccessoryViewtoolbar _toolbarToolbarSetSizeMode( _toolbar, NSToolbarSizeModeSmall )ToolbarSetDisplayMode( _toolbar, NSToolbarDisplayModeIconOnly )toolbaritem _flexSpaceItem, NSToolbarFlexibleSpaceItemIdentifiertoolbaritem _colorsItem, NSToolbarShowColorsItemIdentifierWindowSetToolbar( _window, _toolbar )splitview _splitView, (0,0,550,400), YES, NSSplitViewDividerStyleThinSplitViewSetPositionOfDivider( _splitView, 0, 150 )SplitViewMakeSidebar( _splitView )end fnviewmenu _viewMenufn BuildWindowHandleEvents