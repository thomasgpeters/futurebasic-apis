/*  Sidebar Demo  Requires: macOS 11.0+*/_window = 1begin enum 1_splitView_tableView_infoLabelend enumvoid local fn BuildTableDataCFMutableArrayRef tableData = fn TableViewData( _tableView )MutableArrayAddObject( tableData, @{@"name":@"Alpha",@"info":@"First letter of the Greek alphabet"} )MutableArrayAddObject( tableData, @{@"name":@"Bravo",@"info":@"Express approval"} )MutableArrayAddObject( tableData, @{@"name":@"Charlie",@"info":@"A fool"} )MutableArrayAddObject( tableData, @{@"name":@"Delta",@"info":@"Fourth letter of the Greek alphabet"} )MutableArrayAddObject( tableData, @{@"name":@"Echo",@"info":@"Reflected sound"} )MutableArrayAddObject( tableData, @{@"name":@"Foxtrot",@"info":@"Ballroom dance"} )MutableArrayAddObject( tableData, @{@"name":@"Golf",@"info":@"A game"} )MutableArrayAddObject( tableData, @{@"name":@"Hotel",@"info":@"Establishment providing accommodation"} )MutableArrayAddObject( tableData, @{@"name":@"India",@"info":@"Country"} )MutableArrayAddObject( tableData, @{@"name":@"Juliet",@"info":@"Girl's name"} )MutableArrayAddObject( tableData, @{@"name":@"Kilo",@"info":@"Kilogram"} )MutableArrayAddObject( tableData, @{@"name":@"Lima",@"info":@"Capital of Peru"} )MutableArrayAddObject( tableData, @{@"name":@"Mike",@"info":@"Microphone"} )MutableArrayAddObject( tableData, @{@"name":@"November",@"info":@"Eleventh month of the year"} )MutableArrayAddObject( tableData, @{@"name":@"Oscar",@"info":@"South American fish"} )MutableArrayAddObject( tableData, @{@"name":@"Papa",@"info":@"One's father"} )MutableArrayAddObject( tableData, @{@"name":@"Quebec",@"info":@"Heavily forested province in eastern Canada"} )MutableArrayAddObject( tableData, @{@"name":@"Romeo",@"info":@"Passionate male seducer"} )MutableArrayAddObject( tableData, @{@"name":@"Sierra",@"info":@"Long jagged mountain chain"} )MutableArrayAddObject( tableData, @{@"name":@"Tango",@"info":@"Another ballroom dance"} )MutableArrayAddObject( tableData, @{@"name":@"Uniform",@"info":@"Work garment"} )MutableArrayAddObject( tableData, @{@"name":@"Victor",@"info":@"Person who defeats an enemy"} )MutableArrayAddObject( tableData, @{@"name":@"Whisky",@"info":@"Spirit distilled from malted grain"} )MutableArrayAddObject( tableData, @{@"name":@"Xray",@"info":@"Electromagnetic wave"} )MutableArrayAddObject( tableData, @{@"name":@"Yankee",@"info":@"A bet on four or more horses to win"} )MutableArrayAddObject( tableData, @{@"name":@"Zulu",@"info":@"A member of a South African people"} )TableViewReloadData( _tableView )end fnvoid local fn AddToggleSidebarAccessoryViewViewRef aView = fn ViewInit( 0, fn CGRectmake(0,0,50,50) )ButtonRef btn = fn ButtonInit( 0, fn CGRectMake(13,12.5,24,24) )ButtonSetTitle( btn, @"" )ButtonSetBordered( btn, NO )ButtonSetImage( btn, fn ImageWithSystemSymbolName( @"sidebar.left", NULL ) )ButtonSetImageScaling( btn, NSImageScaleProportionallyUpOrDown )ControlSetAction( btn, @"toggleSidebar:" )ViewAddSubview( aView, btn )WindowAddTitlebarAccessoryView( _window, aView, NSLayoutAttributeLeft )end fnvoid local fn BuildWindownibwindow _window, @"Window"fn AddToggleSidebarAccessoryViewSplitViewMakeSidebar( _splitView )SplitViewSetPositionOfDivider( _splitView, 0, 150 )fn BuildTableDataTableColumnRef column = fn TableViewTableColumnWithIdentifier( _tableView, @"info" )TableColumnSetHidden( column, YES )end fnvoid local fn ShowInfolong row = fn TableViewSelectedRow( _tableView )CFArrayRef tableData = fn TableViewData( _tableView )if ( row != -1 )ControlSetStringValue( _infoLabel, fn DictionaryValueForKey( tableData[row], @"info" ) )elseControlSetStringValue( _infoLabel, @"" )end ifend fnvoid local fn DoDialog( ev as long, tag as long )select ( ev )case _tableViewSelectionDidChange : fn ShowInfoend selectend fnviewmenu 1fn BuildWindowon dialog fn DoDialogHandleEvents