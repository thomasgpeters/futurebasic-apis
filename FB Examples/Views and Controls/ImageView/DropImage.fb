_window = 1begin enum 1_imageViewend enumvoid local fn BuildWindowwindow _window, @"Drop Image", (0,0,480,360)imageview _imageView,,, (0,0,480,360)ImageViewSetEditable( _imageView, YES )ViewSetFocusRingType( _imageView, NSFocusRingTypeNone )ViewSetAutoresizingMask( _imageView, NSViewWidthSizable + NSViewHeightSizable )end fnvoid local fn DropImageCGSize size = fn ImageSize( fn ImageViewImage( _imageView ) )WindowSetContentAspectRatio( _window, size )WindowSetContentSize( _window, size )WindowCenter( _window )end fnvoid local fn DoDialog( ev as long )select ( ev )case _btnClick : fn DropImageend selectend fnfn BuildWindowon dialog fn DoDialogHandleEvents