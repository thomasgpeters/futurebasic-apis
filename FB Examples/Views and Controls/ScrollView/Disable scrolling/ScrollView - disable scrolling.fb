include resources "dummy.txt"include "NSLog.incl"_window = 1begin enum 1_scrollView_textView_toggleScrollingBtnend enumvoid local fn BuildWindowwindow _window, @"TextView", (0,0,480,360)subclass scrollview _scrollView, (20,61,440,279)ViewSetAutoresizingMask( _scrollView, NSViewWidthSizable + NSViewHeightSizable )textview _textView,, _scrollViewCFStringRef string = fn StringWithContentsOfURL( fn BundleURLForResource( fn BundleMain, @"dummy", @"txt", NULL ), NSUTF8StringEncoding, NULL )TextSetString( _textView, string )button _toggleScrollingBtn,,, @"Toggle Scrolling", (14,13,137,32)WindowMakeFirstResponder( _window, _textView )end fnvoid local fn DoDialog( ev as long, tag as long )select ( ev )case _btnClickselect ( tag )case _toggleScrollingBtnif ( fn ScrollViewIsScrollingDisabled( _scrollView ) )ScrollViewSetScrollingDisabled( _scrollView, NO )TextViewSetSelectable( _textView, YES )TextViewSetEditable( _textView, YES )elseScrollViewSetScrollingDisabled( _scrollView, YES )TextViewSetSelectable( _textView, NO )TextViewSetEditable( _textView, NO )end ifend selectend selectend fneditmenu 1fn BuildWindowon dialog fn DoDialogHandleEvents