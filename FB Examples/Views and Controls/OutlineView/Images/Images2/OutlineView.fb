include resources "fbdoc.png"include resources "property-list_Icon.icns"_window = 1begin enum 1_outlineViewend enumvoid local fn CreateOutlineViewDataCFMutableArrayRef array = fn TableViewData(_outlineView)OutlineItemRef item = fn OutlineItemWithString( @"Headers", fn ImageNamed(NSImageNameFolder), YES )fn OutlineItemAddChildWithString( item, @"Tlbx CocoaUI.incl", fn WorkspaceIconForFileType( @"incl" ), NO )MutableArrayAddObject( array, item )item = fn OutlineItemWithString( @"Resources", fn ImageNamed(NSImageNameFolder), YES )fn OutlineItemAddChildWithString( item, @"Info.plist", fn ImageNamed(@"property-list_Icon"), NO )MutableArrayAddObject( array, item )item = fn OutlineItemWithString( @"Globals", fn ImageNamed(NSImageNameFolder), YES )fn OutlineItemAddChildWithString( item, @"MyApp.glbl", fn ImageNamed(@"fbdoc"), NO )MutableArrayAddObject( array, item )item = fn OutlineItemWithString( @"Includes", fn ImageNamed(NSImageNameFolder), YES )fn OutlineItemAddChildWithString( item, @"Menu.incl", fn ImageNamed(@"fbdoc"), NO )fn OutlineItemAddChildWithString( item, @"Window.incl", fn ImageNamed(@"fbdoc"), NO )fn OutlineItemAddChildWithString( item, @"Init.incl", fn ImageNamed(@"fbdoc"), NO )MutableArrayAddObject( array, item )item = fn OutlineItemWithString( @"Main", fn ImageNamed(NSImageNameFolder), YES )fn OutlineItemAddChildWithString( item, @"MyApp.main", fn ImageNamed(@"fbdoc"), NO )MutableArrayAddObject( array, item )TableViewReloadData(_outlineView)OutlineViewExpandItem( _outlineView, item )OutlineViewExpandItem( _outlineView, fn OutlineViewItemAtRow( _outlineView, 0 ) )end fnvoid local fn BuildWindownibwindow _window, @"Window"fn CreateOutlineViewDataend fnvoid local fn DoDialog( ev as long, tag as long )OutlineItemRef itemselect (ev)case _outlineViewDoubleActionselect (tag)case _outlineViewitem = fn OutlineViewItemAtRow( tag, fn TableViewSelectedRow( tag ) )if ( fn OutlineViewIsItemExpanded( tag, item ) )OutlineViewCollapseItem( tag, item )elseOutlineViewExpandItem( tag, item )end ifend selectend selectend fnfn BuildWindowon dialog fn DoDialogHandleEvents