include "NSLog.incl"_ctxMenu = 101_window = 1_view = 1_label = 2void local fn BuildContextualMenumenu _ctxMenumenu _ctxMenu, 0,, @"Whisky"menu _ctxMenu, 1,, @"Xray"menu _ctxMenu, 2,, @"Yankee"menu _ctxMenu, 3,, @"Zulu"end fnvoid local fn BuildWindowCGRect r = (0,0,550,400)window _window, @"View w Contextual Menu", rview subclass _view, rViewSetAutoresizingMask( _view, NSViewWidthSizable + NSViewHeightSizable )ResponderSetMenu( fn ViewWithTag(_view), _ctxMenu )r = fn CGRectMake(20,360,510,32)textlabel _label, @"Right click to show contextual menu.", r, _windowControlSetAlignment( _label, NSTextAlignmentCenter )end fnvoid local fn DoMenu( menuID as long, itemID as long )select ( menuID )case _ctxMenuNSLog(@"Contextual menu item %ld: %@",itemID,fn MenuItemTitle(menuID,itemID))end selectend fnfn BuildContextualMenufn BuildWindowon menu fn DoMenuHandleEvents