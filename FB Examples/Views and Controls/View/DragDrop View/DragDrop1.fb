include "NSLog.incl"void local fn BuildWindowwindow 1,, (0,0,550,400)subclass view 1, (0,0,550,400)// must subclass view to receive drag eventsViewSetAutoresizingMask( 1, NSViewWidthSizable + NSViewHeightSizable )ViewRegisterForDraggedFileTypes( 1, NULL )// tell view to accept dragged files - NULL fileTypes (second param) = accept all file typestextlabel 2, @"Drop files here", (229,191,93,17)end fnvoid local fn DoDialog( ev as long )select ( ev )case _viewPerformDragOperationCFArrayRef urls = fn DialogEventArray// get array of all file URLs dropped on viewNSLog(@"%@",urls)// do something with filesend selectend fnfn BuildWindowon dialog fn DoDialogHandleEvents