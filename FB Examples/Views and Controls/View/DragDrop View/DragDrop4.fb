include "NSLog.incl"void local fn BuildWindowwindow 1,, (0,0,550,400)subclass view 1, (0,0,550,400)ViewSetAutoresizingMask( 1, NSViewWidthSizable + NSViewHeightSizable )ViewRegisterForDraggedFileTypes( 1, @"public.folder;public.png" )// accept png and folder typestextlabel 2, @"Drop png files and/or folders here", (171,191,208,17)end fnvoid local fn DoDialog( ev as long, tag as long, wnd as long, obj as ptr )select ( ev )case _viewPerformDragOperationCFArrayRef urls = fn DialogEventArrayNSLog(@"%@",obj)end selectend fnfn BuildWindowon dialog fn DoDialogHandleEvents