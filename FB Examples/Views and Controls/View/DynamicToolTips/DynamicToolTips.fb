/*  DynamicToolTips*/include resources "FlowerpotMen.jpg"_window = 1begin enum 1_checkbox_imageView_pushBtnend enumCFStringRef local fn MyToolTipCallback( tag as NSInteger, toolTipTag as NSToolTipTag, pt as CGPoint, userData as ptr )CFStringRef string = @""long valueselect ( tag )case _checkboxif ( fn ButtonState( tag ) == NSControlStateValueOn )string = @"This checkbox is checked"elsestring = @"This checkbox is unchecked"end ifcase _imageViewif ( pt.x < 106 )string = @"This is Bill"elsestring = @"This is Ben"end ifcase _pushBtnvalue = fn ViewPropertyLong( tag, @"ClickCount" )select ( value )case 0string = @"zero times"case 1string = @"once"case 2string = @"twice"case elsestring = fn StringWithFormat( @"%ld times", value )end selectstring = fn StringByAppendingString( @"You have clicked this button ",string )end selectend fn = stringvoid local fn BuildWindowwindow _window, @"Dynamic ToolTips", (0,0,480,360), NSWindowStyleMaskTitledbutton _checkbox,, NSControlStateValueOn, @"Checkbox", (18,324,83,18), NSButtonTypeSwitchfn ViewAddToolTipRect( _checkbox, fn ViewBounds(_checkbox), @fn MyToolTipCallback, NULL )imageview _imageView,, @"FlowerpotMen", (134,86,212,187)fn ViewAddToolTipRect( _imageView, fn CGRectMake(0,0,106,187), @fn MyToolTipCallback, NULL )fn ViewAddToolTipRect( _imageView, fn CGRectMake(106,0,106,187), @fn MyToolTipCallback, NULL )button _pushBtn,,, @"Click Me!", (14,13,96,32)ViewPropertySetLong( _pushBtn, @"ClickCount", 0 )fn ViewAddToolTipRect( _pushBtn, fn ViewBounds(_pushBtn), @fn MyToolTipCallback, NULL )end fnvoid local fn DoDialog( ev as long, tag as long )long clickCountselect ( ev )case _btnClickselect ( tag )case _pushBtnclickCount = fn ViewPropertyLong( tag, @"ClickCount" ) + 1ViewPropertySetLong( tag, @"ClickCount", clickCount )end selectend selectend fnfn BuildWindowon dialog fn DoDialogHandleEvents