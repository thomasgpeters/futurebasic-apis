include "Tlbx MapKit.incl"_window = 1begin enum 1_mapViewend enumvoid local fn MyGeocodeAddressHandler( geocoder as CLGeocoderRef, placemarks as CFArrayRef, err as ErrorRef, userData as ptr )CLPlacemarkRef         placemarkCLLocationRef          locationCLLocationCoordinate2D coordinateCLLocationDistance     radius = 1000MKCoordinateRegion     regionMKPointAnnotationRef   annotationCFStringRef            subtitlefor placemark in placemarkslocation = fn CLPlacemarkLocation( placemark )coordinate = fn CLLocationCoordinate( location )region = fn MKCoordinateRegionMakeWithDistance( coordinate, radius, radius )MKMapViewSetRegion( _mapView, region, NO )subtitle = fn StringWithFormat( @"Longitude: %f\nLatitude: %f",coordinate.latitude,coordinate.longitude )annotation = fn MKPointAnnotationWithTitle( coordinate, fn CLPlacemarkName(placemark), subtitle )MKMapViewAddAnnotation( _mapView, annotation )MKMapViewSelectAnnotation( _mapView, annotation, YES )nextend fnvoid local fn BuildWindowCGRect r = (0,0,1000,800)window _window, @"Coordinates from Address", rmkmapview _mapView, rViewSetAutoresizingMask( _mapView, NSViewWidthSizable + NSViewHeightSizable )CLGeocoderGeocodeAddressString( fn CLGeocoderInit, @"1 Apple Park Way, Cupertino, CA 95014", @fn MyGeocodeAddressHandler, NULL )//CLGeocoderGeocodeAddressString( fn CLGeocoderInit, @"1 Infinity Loop, Cupertino", @fn MyGeocodeAddressHandler, NULL )end fnfn BuildWindowHandleEvents