/*  AVPlayerView  Bernie Wylde 20180309  macOS 10.10+*/include "Tlbx AVKit.incl"// requiredvoid local fn OpenFileAVPlayerRef playerCFURLRef url = openpanel 1, @"Open movie file", @"public.movie;m4a"if ( url )player = fn AVPlayerWithURL( url )AVPlayerViewSetVideoGravity( 1, AVLayerVideoGravityResizeAspectFill )AVPlayerViewSetPlayer( 1, player )AVPlayerPlay(player)end ifend fnvoid local fn BuildWindownibwindow 1, @"Window"end fnvoid local fn DoDialog( ev as long )if ( ev == _btnClick ) then fn OpenFileend fnfn BuildWindowon dialog fn DoDialogHandleEvents