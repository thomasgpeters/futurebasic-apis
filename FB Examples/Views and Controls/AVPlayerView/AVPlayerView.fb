/*  AVPlayerView  Bernie Wylde 20180309*/include "Tlbx AVKit.incl"// required_window = 1begin enum 1_playerView_openFileBtnend enumvoid local fn OpenFileCFURLRef url = openpanel 1, @"Open movie file", @"public.movie"if ( url )AVPlayerRef player = fn AVPlayerWithURL( url )AVPlayerViewSetPlayer( _playerView, player )AVPlayerPlay( player )end ifend fnvoid local fn BuildWindowwindow _window, @"AVPlayerView", (0,0,623,536)WindowSetContentMinSize( _window, fn CGSizeMake(176,100) )avplayerview _playerView, (20,61,583,455)ViewSetAutoresizingMask( _playerView, NSViewWidthSizable + NSViewHeightSizable )button _openFileBtn,,, @"Open Movie Fileâ€¦", (14,13,148,32)ViewSetAutoresizingMask( _openFileBtn, NSViewMaxYMargin )end fnvoid local fn DoDialog( ev as long )if ( ev == _btnClick ) then fn OpenFileend fnfn BuildWindowon dialog fn DoDialogHandleEvents