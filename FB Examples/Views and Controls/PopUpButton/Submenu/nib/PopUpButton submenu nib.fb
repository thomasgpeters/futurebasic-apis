_applesMenu = 101begin enum_type1_type2_type3end enum_window = 1begin enum 1_popupBtnend enumvoid local fn BuildWindownibwindow _window, @"Window"end fnvoid local fn DoMenu( menuID as long, itemID as long )select ( menuID )case _applesMenuCFStringRef s = fn StringWithFormat( @"%@ - %@",fn MenuTitle(menuID),fn MenuItemTitle(menuID,itemID))PopUpButtonSetTitle( _popupBtn, s )end selectend fnvoid local fn DoDialog( ev as long, tag as long )select ( ev )case _btnClickselect ( tag )case _popupBtnPopUpButtonSetTitle( tag, fn PopUpButtonTitleOfSelectedItem(tag) )end selectend selectend fnfn BuildWindowon menu fn DoMenuon dialog fn DoDialogHandleEvents