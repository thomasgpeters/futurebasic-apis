// macOS 10.15+_window = 1begin enum 1_enableSoundsLabel_enableSoundsSwitch_soundsBox_backgroundMusicCheck_soundEffectsCheck_notificationsCheck_volumeLabel_volumeSliderend enumvoid local fn BuildWindowwindow _window, @"Switch Control", (0,0,480,180), NSWindowStyleMaskTitledtextlabel _enableSoundsLabel, @"Enable sounds", (50,122,93,16)switch _enableSoundsSwitch,, NSControlStateValueOn, (147,117,42,24)superview box _soundsBox,, (213,-10,270,200)button _backgroundMusicCheck,, NSControlStateValueOn, @"Background music", (18,138,134,18), NSButtonTypeSwitchbutton _soundEffectsCheck,,, @"Sound effects", (18,104,107,18), NSButtonTypeSwitchbutton _notificationsCheck,, NSControlStateValueOn, @"Notification sounds", (18,70,140,18), NSButtonTypeSwitchtextlabel _volumeLabel, @"Volume", (18,36,49,16)slider _volumeSlider,, 50, (71,34,175,19)superviewendend fnvoid local fn SwitchAction( tag as long )BOOL enabled = ( fn SwitchState( tag ) == NSControlStateValueOn )button _backgroundMusicCheck, enabledbutton _soundEffectsCheck, enabledbutton _notificationsCheck, enabledif ( enabled )TextFieldSetTextColor( _volumeLabel, fn ColorLabel )elseTextFieldSetTextColor( _volumeLabel, fn ColorTertiaryLabel )end ifslider _volumeSlider, enabledend fnvoid local fn DoDialog( ev as long, tag as long )select ( ev )case _btnClickselect ( tag )case _enableSoundsSwitch : fn SwitchAction( tag )end selectend selectend fnfn BuildWindowon dialog fn DoDialogHandleEvents