/*  ComboButton - Displays title, image and menu  Clicking the title or image triggers a dialog _btnClick event.  Clicking the menu control displays the menu.  If you configure the button to hide the menu control (NSComboButtonStyleUnified), a long-press displays the menu.  Requires macOS 13.0+*/_comboMenu = 101begin enum_volumeItem_pitchItemend enum_window = 1begin enum 1_comboBtn1_comboBtn2_comboBtn3_comboBtn4_label1_label2_label3_label4end enumvoid local fn BuildComboButtonMenumenu _comboMenumenu _comboMenu, _volumeItem,, @"Volume"menu _comboMenu, _pitchItem,, @"Pitch"end fnvoid local fn BuildWindowwindow _window, @"ComboButton", (0,0,440,204), NSWindowStyleMaskTitled + NSWindowStyleMaskClosablecombobutton _comboBtn1,, @"Sound",, _comboMenu,, (17,138,101,24)textlabel _label1, @"Split (default)", (143,142,87,16)combobutton _comboBtn3,, @"Sound", fn ImageNamed(NSImageNameActionTemplate), _comboMenu,, (17,98,101,24)textlabel _label2, @"Split + Image", (143,102,84,16)combobutton _comboBtn2,, @"Sound",, _comboMenu,, (17,58,101,24), NSComboButtonStyleUnifiedtextlabel _label3, @"Unified. Long-press to display menu.", (143,62,227,16)combobutton _comboBtn4,, @"Sound", fn ImageNamed(NSImageNameBluetoothTemplate), _comboMenu,, (17,18,101,24), NSComboButtonStyleUnifiedtextlabel _label4, @"Unified + Image. Long-press to display menu.", (143,22,279,16)text ,, fn ColorBlue,, NSTextAlignmentCenterend fnvoid local fn DoMenu( menuID as long, itemID as long )select ( menuID )case _comboMenuclsselect ( itemID )case _volumeItem : print : print @"\"Volume\" menu item chosen"case _pitchItem  : print : print @"\"Pitch\" menu item chosen"end selectend selectend fnvoid local fn DoDialog( ev as long, tag as long )select ( ev )case _btnClickselect ( tag )case _comboBtn1, _comboBtn2, _comboBtn3, _comboBtn4cls : print : print @"\"Sound\" button clicked"end selectend selectend fnvoid local fn DoAppEvent( ev as long )select ( ev )case _appDidFinishLaunchingfn BuildComboButtonMenufn BuildWindowcase _appShouldTerminateAfterLastWindowClosedAppEventSetBool(YES)end selectend fnon appevent fn DoAppEventon menu fn DoMenuon dialog fn DoDialogHandleEvents