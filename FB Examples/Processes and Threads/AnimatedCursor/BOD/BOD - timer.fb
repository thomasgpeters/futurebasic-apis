/*  Beachball of Death  "I think I've really nailed down the artwork"  Ken Loopinheiser*/output file "Beachball of Death"include resources "Images"_window = 1begin enum 1_startBtn_stopBtnend enumbegin globalslong gCounterend globalsvoid local fn RotateCursor( t as TimerRef )if ( gCounter )ImageRef image = fn ImageNamed(fn StringWithFormat(@"Images/BOD%ld.png",gCounter))ImageSetSize( image, fn CGSizeMake(100,100) )CursorSetImage( image, fn CGPointMake(54,9) )gCounter++if ( gCounter > 10 ) then gCounter = 1elseTimerInvalidate( t )CursorSetArrowend ifend fnvoid local fn BuildWindowwindow _window, @"Beachball of Death", (0,0,550,400)button _startBtn,,, @"Start", (14,352,70,32)button _stopBtn, 0,, @"Stop", (84,352,70,32)end fnvoid local fn DoDialog( ev as long, tag as long )if ( ev == _btnClick )select ( tag )case _startBtnbutton _startBtn, 0button _stopBtn, 1gCounter = 1fn TimerScheduledWithInterval( 0.15, @fn RotateCursor, NULL, YES )case _stopBtngCounter = 0button _startBtn, 1button _stopBtn, 0end selectend ifend fnfn BuildWindowon dialog fn DoDialogHandleEvents