include resources "images"void local fn DrawInView( tag as long )ImageRef   tl, tr, bl, br, t, r, b, l, mCGRect bounds = fn CGRectInset( fn ViewBounds(tag), 20, 20 )tl = fn ImageNamed(@"images/tl.png")tr = fn ImageNamed(@"images/tr.png")bl = fn ImageNamed(@"images/bl.png")br = fn ImageNamed(@"images/br.png")t = fn ImageNamed(@"images/t.png")r = fn ImageNamed(@"images/r.png")b = fn ImageNamed(@"images/b.png")l = fn ImageNamed(@"images/l.png")m = fn ImageNamed(@"images/m.png")NSDrawNinePartImage( bounds, tl, t, tr, l, m, r, bl, b, br, NSCompositeSourceOver, 1, NO )end fnvoid local fn BuildWindowwindow 1, @"NSDrawNinePartImage", (0,0,240,240)WindowSetContentMinSize( 1, fn CGSizeMake(240,240) )WindowSubclassContentView(1)ViewSetNeedsDisplay( _windowContentViewTag )end fnvoid local fn DoDialog( ev as long, tag as long )select ( ev )case _viewDrawRect : fn DrawInView(tag)end selectend fnfn BuildWindowon dialog fn DoDialogHandleEvents