include resources "images"void local fn DrawInView( tag as long )ImageRef   img1, img2, img3CGFloat h = 100CGRect r = fn CGRectInset( fn ViewBounds(tag), 20, 20 )img1 = fn ImageNamed(@"images/left.png")img2 = fn ImageNamed(@"images/middle.png")img3 = fn ImageNamed(@"images/right.png")NSDrawThreePartImage( fn CGRectMake(r.origin.x,r.origin.y+(r.size.height-h)/2,r.size.width,h), img1, img2, img3, NO, NSCompositeSourceOver, 1, NO )end fnvoid local fn BuildWindowwindow 1, @"NSDrawThreePartImage", (0,0,240,240)WindowSubclassContentView(1)ViewSetNeedsDisplay( _windowContentViewTag )end fnvoid local fn DoDialog( ev as long, tag as long )select ( ev )case _viewDrawRect : fn DrawInView(tag)end selectend fnfn BuildWindowon dialog fn DoDialogHandleEvents