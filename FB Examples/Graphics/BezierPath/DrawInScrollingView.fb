void local fn DrawRect( tag as NSInteger )CGRect r = fn ViewFrame(tag)BezierPathStrokeRect( fn CGRectInset( r, 5, 5 ), 10, fn ColorGray )BezierPathStrokeFillOvalInRect( fn CGRectMake(100,100,500,500), 20, fn ColorGreen, fn ColorYellow )BezierPathFillRect( fn CGRectMake(900,100,500,500), fn ColorMagenta )BezierPathStrokeFillOvalInRect( fn CGRectMake(1000,200,300,300), 5, fn ColorBlack, fn ColorWhite )BezierPathRef path = fn BezierPathInitBezierPathSetLineWidth( path, 20 )BezierPathSetLineJoinStyle( path, NSRoundLineJoinStyle )ColorSetCyanBezierPathMoveToPoint( path, fn CGPointMake(750,500) )BezierPathLineToPoint( path, fn CGPointMake(600,1000) )BezierPathLineToPoint( path, fn CGPointMake(850,1000) )BezierPathStroke( path )BezierPathStrokeOvalInRect( fn CGRectMake(350,1100,800,300), 50, fn ColorRed )end fnvoid local fn BuildWindowwindow 1,, (0,0,800,600)subclass view 1, (0,0,1500,1500)ViewSetFlipped( 1, YES )ViewSetAutoresizingMask( 1, NSViewMaxXMargin + NSViewMaxYMargin )scrollview 2, (20,20,760,560), NSBezelBorder, 1ScrollViewSetHasHorizontalScroller( 2, YES )ViewSetAutoresizingMask( 2, NSViewWidthSizable + NSViewHeightSizable )ScrollViewReflectScrolledClipView( 2 )end fnvoid local fn DoDialog( ev as long, tag as long )if ( ev == _viewDrawRect ) then fn DrawRect( tag )end fnfn BuildWindowon dialog fn DoDialogHandleEvents