local fn DrawImage as ImageRefImageRef image = fn ImageWithSize( fn CGSizeMake(360,360 ) )ImageLockFocus( image )BezierPathStrokeFillRoundedRect( fn CGRectMake(5,5,350,350), 50, 50, 10, fn ColorBlack, fn ColorRed )BezierPathStrokeLine( fn CGPointMake(100,100), fn CGPointMake(260,260), 50, fn ColorYellow )BezierPathStrokeLine( fn CGPointMake(260,100), fn CGPointMake(100,260), 50, fn ColorYellow )ImageUnlockFocus( image )end fn = imagevoid local fn BuildWindowwindow 1, @"DrawImage", (0,0,400,400), NSWindowStyleMaskTitledimageview 1,, fn DrawImage, (20,20,360,360)end fnfn BuildWindowHandleEvents