/*  Demonstrates cocoa art with compound rectangles.  Written by S.Van Voorst      {20171124}*/_window = 1_wndW = 650_wndH = 700begin enum 1_view_quitBtnend enumvoid local fn ViewDrawCompoundRectangles( tag as NSInteger )CGFloat   degBezierPathFillRect( fn ViewBounds( tag ), fn ColorWhite )CGRect r = ( 50, 50, 100, 100 )for deg = 0 to 359 step 5BezierPathStrokeRotatedRect( r, 325, 325, deg, 0.5, NULL )next degend fnvoid local fn BuildWindowlong   wndStyleMaskwndStyleMask = NSWindowStyleMaskTitledwndStyleMask += NSWindowStyleMaskClosablewndStyleMask += NSWindowStyleMaskMiniaturizablewndStyleMask += NSWindowStyleMaskResizablewindow _window, @"Ocular", ( 0, 0, _wndW, _wndH ), wndStyleMasksubclass view _view, ( 0, 0, _wndW, _wndH)ViewSetFlipped(_view, YES)ViewSetAutoresizingMask( _view, NSViewWidthSizable + NSViewHeightSizable )button _quitBtn, , , @"Q", (_wndW - 50, 10, 40, 40),, NSBezelStyleCircularViewSetAutoresizingMask( _quitBtn, NSViewMinXMargin + NSViewMaxYMargin )ControlSetAction( _quitBtn, @"terminate:" )end fnvoid local fn DoDialog( ev as long, tag as long )select ( ev )case _viewDrawRect : fn ViewDrawCompoundRectangles(tag)end selectend fnfn BuildWindowon dialog fn DoDialogHandleEvents