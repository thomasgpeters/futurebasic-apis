/*  CAGradientLayer Demo*/include resources "Teacup.png"_window = 1begin enum 1_layerViewend enumvoid local fn AddViewSublayer( tag as NSInteger )CALayerRef layer = fn ViewLayer( tag )CAGradientLayerRef gradLayer = fn CAGradientLayerInitCFArrayRef cols = @[fn ColorRed, fn ColorOrange, fn ColorYellow, fn ColorGreen, fn ColorBlue, fn ColorWithRGB(0,0.29,0.51,1), fn ColorWithRGB(0.58,0.0,0.83,1)]CAGradientLayerSetColors( gradLayer, cols )CAGradientLayerSetStartPoint( gradLayer, fn CGPointMake(0,0) )CAGradientLayerSetEndPoint( gradLayer, fn CGPointMake(1,1) )CALayerSetShadowOffset( gradLayer, fn CGSizeMake( 10, -10 ) )CALayerSetShadowRadius( gradLayer, 3.0 )CALayerSetShadowOpacity( gradLayer, 0.4 )CALayerSetContents( gradLayer, fn ImageNamed(@"Teacup") )CALayerSetContentsGravity( gradLayer, kCAGravityResizeAspect )CALayerSetFrame( gradLayer, fn CGRectMake(45,55,400,400) )CALayerSetAutoresizingMask( gradLayer, kCALayerWidthSizable + kCALayerHeightSizable )CALayerAddSublayer( layer, gradLayer )end fnvoid local fn BuildWindowwindow _window, @"CAGradientLayer Demo", (0,0,500,500)WindowSetContentMinSize( _window, fn CGSizeMake(150,150) )view _layerView, (0,0,500,500)ViewSetAutoresizingMask( _layerView, NSViewWidthSizable + NSViewHeightSizable )ViewSetWantsLayer( _layerView, YES )fn AddViewSublayer( _layerView )end fnfn BuildWindowHandleEvents