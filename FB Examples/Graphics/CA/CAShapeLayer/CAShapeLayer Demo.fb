/*  CAShapeLayer Demo*/_window = 1begin enum 1_layerViewend enumvoid local fn AddViewLayers( tag as NSInteger )CALayerRef        layerCAShapeLayerRef   shapeLayerBezierPathRef     pathlayer = fn ViewLayer( tag )CALayerSetBackgroundColor( layer, fn ColorGreen )CALayerSetBorderWidth( layer, 2 )shapeLayer = fn CAShapeLayerInit// circlepath = fn BezierPathWithOvalInRect( fn CGRectMake(20,20,100,100) )// line1BezierPathMoveToPoint( path, fn CGPointMake(70,70) )BezierPathLineToPoint( path, fn CGPointMake(235,260) )// line2BezierPathMoveToPoint( path, fn CGPointMake(275,220) )BezierPathLineToPoint( path, fn CGPointMake(310,80) )// rectBezierPathAppendPathWithRect( path, fn CGRectMake(205,190,100,100) )// rounded rectBezierPathAppendPathWithRoundedRect( path, fn CGRectMake(250,20,240,100), 20, 20 )// shape attributesCAShapeLayerSetPath( shapeLayer, path )CAShapeLayerSetLineWidth( shapeLayer, 10 )CAShapeLayerSetLineCap( shapeLayer, kCALineCapRound )CAShapeLayerSetStrokeColor( shapeLayer, fn ColorRed )CAShapeLayerSetFillColor( shapeLayer, fn ColorClear )CALayerAddSublayer( layer, shapeLayer )end fnvoid local fn BuildWindowwindow _window, @"CAShapeLayer Demo", (0,0,550,350)view _layerView, (20,20,510,310)ViewSetWantsLayer( _layerView, YES )fn AddViewLayers( _layerView )end fnfn BuildWindowHandleEvents