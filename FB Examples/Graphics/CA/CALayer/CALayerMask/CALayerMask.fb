/*  CALayerMask*/include resources "Content.png"include resources "Mask.png"_window = 1begin enum 1_view1_view2_view3end enumvoid local fn BuildWindowCGRect       r = (0,0,256,256)ImageRef     contentImage, maskImageCALayerRef   layer1, layer2, layer3, maskLayercontentImage = fn ImageNamed(@"Content")maskImage = fn ImageNamed(@"Mask")window _window, @"CALayerMask", (0,0,824,296)view _view1, (20,20,256,256)ViewSetWantsLayer( _view1, YES )layer1 = fn ViewLayer( _view1 )CALayerSetContents( layer1, contentImage )view _view2, (284,20,256,256)ViewSetWantsLayer( _view2, YES )layer2 = fn ViewLayer( _view2 )CALayerSetContents( layer2, maskImage )view _view3, (548,20,256,256)ViewSetWantsLayer( _view3, YES )layer3 = fn ViewLayer( _view3 )CALayerSetContents( layer3, contentImage )maskLayer = fn CALayerInitCALayerSetContents( maskLayer, maskImage )CALayerSetFrame( maskLayer, r )CALayerSetMask( layer3, maskLayer )end fnfn BuildWindowHandleEvents