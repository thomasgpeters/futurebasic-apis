/*  CALayer PlayingCard  from: http://www.knowstack.com/swift-3-1-calayer/*/include resources "spade.png"void local fn BuildPlayingCardLayers( tag as NSInteger )CALayerRef       superLayer, cardLayer, topImageLayer, centerImageLayer, bottomImageLayerCATextLayerRef   topTextLayer, bottomTextLayerCGRect           r, r2, boundsr = fn ViewFrame( tag )r2 = fn CGRectMake(20,20,r.size.width-40,r.size.height-40)superLayer = fn CALayerInitCALayerSetFrame( superLayer, r2 )ViewSetLayer( tag, superLayer )ViewSetWantsLayer( tag, YES )cardLayer = fn CALayerinitCALayerSetFrame( cardLayer, r2 )CALayerSetBackgroundColor( cardLayer, fn ColorWhite )CALayerSetCornerRadius( cardLayer, 10.0 )CALayerSetBorderWidth( cardLayer, 5.0 )CALayerSetBorderColor( cardLayer, fn ColorBlack )CALayerSetShadowOpacity( cardLayer, 0.8 )CALayerSetShadowRadius( cardLayer, 10.0 )CALayerAddSublayer( superLayer, cardLayer )bounds = fn CALayerBounds( cardLayer )topTextLayer = fn CATextLayerinitCATextLayerSetString( topTextLayer, @"A" )CATextLayerSetAlignmentMode( topTextLayer, kCAAlignmentCenter )CALayerSetFrame( topTextLayer, fn CGRectMake(bounds.size.width/8,bounds.size.height-50,50,50) )CATextLayerSetFontSize( topTextLayer, 45 )CATextLayerSetForegroundColor( topTextLayer, fn ColorBlack )CALayerSetContentsScale( topTextLayer, fn ScreenBackingScaleFactor( fn ScreenMainScreen ) )CALayerAddSublayer( cardLayer, topTextLayer )topImageLayer = fn CALayerinitCALayerSetFrame( topImageLayer, fn CGRectMake(bounds.size.width/8,bounds.size.height-100,50,50) )CALayerSetContents( topImageLayer, fn ImageNamed(@"spade") )CALayerAddSublayer( cardLayer, topImageLayer )centerImageLayer = fn CALayerinitCALayerSetFrame( centerImageLayer, fn CGRectMake(bounds.size.width/2-50.0,bounds.size.height/2-50,100,100) )CALayerSetContents( centerImageLayer, fn ImageNamed(@"spade") )CALayerAddSublayer( cardLayer, centerImageLayer )bottomImageLayer = fn CALayerinitCALayerSetFrame( bottomImageLayer, fn CGRectMake(bounds.size.width*6.0/8,50,50,50) )CALayerSetContents( bottomImageLayer, fn ImageNamed(@"spade") )CALayerSetTransform( bottomImageLayer, fn CATransform3DMakeRotation( PI, 0.0, 0.0, 1.0 ) )CALayerAddSublayer( cardLayer, bottomImageLayer )bottomTextLayer = fn CATextLayerinitCATextLayerSetString( bottomTextLayer, @"A" )CATextLayerSetAlignmentMode( bottomTextLayer, kCAAlignmentCenter )CALayerSetFrame( bottomTextLayer, fn CGRectMake(bounds.size.width*6.0/8,0,50,50) )CATextLayerSetFontSize( bottomTextLayer, 45 )CATextLayerSetForegroundColor( bottomTextLayer, fn ColorBlack )CALayerSetContentsScale( bottomTextLayer, fn ScreenBackingScaleFactor( fn ScreenMainScreen ) )CALayerSetTransform( bottomTextLayer, fn CATransform3DMakeRotation( PI, 0.0, 0.0, 1.0 ) )CALayerAddSublayer( cardLayer, bottomTextLayer )end fnvoid local fn BuildWindowwindow 1, @"Playing Card", (0,0,375,465)ViewSetWantsLayer( _windowContentViewTag, YES )view 1, (20,20,335,425)fn BuildPlayingCardLayers(1)end fnfn BuildWindowHandleEvents