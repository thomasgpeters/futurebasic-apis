include "NSLog.incl"void local fn ViewDraw1CGContextRef ctx = fn GraphicsContextCurrentCGContextCGRect r = fn ViewBounds(1)CGContextSetLineWidth(ctx, 6.0)CGContextSetRGBStrokeColor( ctx, 1.0, 0.0, 0.0, 1.0  )CGContextStrokeRect( ctx, fn CGRectMake(3,3,r.size.width-6,r.size.height-6) )end fnvoid local fn ViewDraw2CGContextRef ctx = fn GraphicsContextCurrentCGContextCGRect r = fn ViewBounds(2)CGContextStrokeRect( ctx, fn CGRectMake(0.5,0.5,r.size.width-1.0,r.size.height-1.0) )end fnvoid local fn ViewDraw3CGContextRef ctx = fn GraphicsContextCurrentCGContextCGRect r = fn ViewBounds(3)CGContextSetLineWidth(ctx, 3.0)CGContextSetRGBStrokeColor( ctx, 1.0, 0.0, 1.0, 1.0  )CGContextStrokeEllipseInRect( ctx, fn CGRectMake(1.5,1.5,r.size.width-3,r.size.height-3) )end fnvoid local fn BuildWindowwindow 1, @"Quartz Drawing", (0,0,550,400)subclass view 1, (20,205,250,100)ViewInitTrackingArea( 1 )// required to trigger _viewMouseEntered & _viewMouseEntered eventssubclass view 2, (220,50,200,300)ViewInitTrackingArea( 2 )subclass view 3, (100,20,300,300)ViewInitTrackingArea( 3 )end fnvoid local fn DoDialog( ev as long, tag as long )select ( ev )case _viewDrawRectselect ( tag )case 1 : fn ViewDraw1case 2 : fn ViewDraw2case 3 : fn ViewDraw3end selectcase _viewMouseEnteredselect ( tag )case 1,2,3NSLog(@"mouseEntered view %ld",tag)end selectcase _viewMouseExitedselect ( tag )case 1,2,3NSLog(@"mouseExited view %ld",tag)end selectend selectend fnfn BuildWindowon dialog fn DoDialogHandleEvents