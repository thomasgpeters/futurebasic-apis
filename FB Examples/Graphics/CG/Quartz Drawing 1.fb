include "NSLog.incl"void local fn ViewDrawRectCGContextRef ctx = fn GraphicsContextCurrentCGContextCGRect viewRect = fn ViewBounds( _windowContentViewTag )CGContextSaveGState( ctx )CGContextTranslateCTM( ctx, 0.0, viewRect.size.height )CGContextScaleCTM( ctx, 1.0, -1.0 )CGContextSetLineWidth(ctx, 6.0)CGContextSetRGBStrokeColor( ctx, 1.0, 0.0, 0.0, 1.0  )CGContextStrokeRect( ctx, fn CGRectMake(225,150,100,100) )CGContextRestoreGState( ctx )end fnvoid local fn BuildWindowwindow 1, @"Quartz Drawing", (0,0,550,400)WindowSubclassContentView(1)ViewSetNeedsDisplay( _windowContentViewTag )end fnvoid local fn DoDialog( ev as long )select ( ev )case _viewDrawRectfn ViewDrawRectcase _viewMouseEnteredNSLog(@"mouseEntered content view")end selectend fnfn BuildWindowon dialog fn DoDialogHandleEvents