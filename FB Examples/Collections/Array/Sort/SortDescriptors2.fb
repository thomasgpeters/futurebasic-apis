/*   SortDescriptor Demo   Bernie Wylde 20180421*/include "NSLog.incl"void local fn PrintArrayOfDicts( array as CFArrayRef )CFDictionaryRef   dictCFIndex index = 0for dict in arrayNSLog(@"%ld:\t%@\t%@\t%@",index,fn CFDictionaryGetValue( dict, @"key1" ),fn CFDictionaryGetValue( dict, @"key2" ),fn CFDictionaryGetValue( dict, @"key3" ))index++nextend fnvoid local fn DoItSortDescriptorRef   sd1, sd2, sd3CFDictionaryRef     dictCFIndex             indexNSLog(@"- unsorted -")CFMutableArrayRef mutArray = fn MutableArrayWithCapacity( 0 )for index = 1 to 20dict = @{@"key1":@(rnd(4)),@"key2":@(rnd(5)),@"key3":@(rnd(5))}MutableArrayAddObject( mutArray, dict )next indexfn PrintArrayOfDicts( mutArray )NSLog(@"\r- sorted - (ascending, ascending, descending)")sd1 = fn SortDescriptorWithKey( @"key1", YES )// ascendingsd2 = fn SortDescriptorWithKey( @"key2", YES )// ascendingsd3 = fn SortDescriptorWithKey( @"key3", NO )// descendingCFArrayRef descriptors = @[sd1, sd2, sd3]CFArrayRef sortedArray = fn ArraySortedArrayUsingDescriptors( mutArray, descriptors )fn PrintArrayOfDicts( sortedArray )end fnfn DoItHandleEvents