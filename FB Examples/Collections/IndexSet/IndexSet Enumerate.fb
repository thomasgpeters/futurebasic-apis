/*IndexSet Enumerate*/include "NSLog.incl"void local fn IndexSetEnumerateRangesCallback( set as IndexSetRef, range as CFRange, stp as ^BOOL, userData as ptr )CFArrayRef array = userDataNSLog(@"%ld - %@",range.location,fn ArrayObjectAtIndex(array,range.location))// *stp = YES// stop enumerationend fnvoid local fn DoItCFMutableArrayRef array = fn MutableArrayWithCapacity( 0 )MutableArrayAddObject( array, @"alpha" )MutableArrayAddObject( array, @"bravo" )MutableArrayAddObject( array, @"charlie" )MutableArrayAddObject( array, @"delta" )MutableArrayAddObject( array, @"echo" )MutableArrayAddObject( array, @"foxtrot" )MutableArrayAddObject( array, @"golf" )MutableIndexSetRef set = fn MutableIndexSetInitMutableIndexSetAddIndex( set, 2 ) // "charlie"MutableIndexSetAddIndex( set, 0 ) // "alpha"MutableIndexSetAddIndex( set, 5 ) // "foxtrot"NSLog(@"\r--- Enumerate ranges ---")IndexSetEnumerateRanges( set, @fn IndexSetEnumerateRangesCallback, array )end fnfn DoItHandleEvents