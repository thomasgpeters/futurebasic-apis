/*  CalendarEnumerateDates  List last 10 leap days*/include "NSLog.incl"void local fn MyEnumerateDates( cal as CFCalendarRef, dt as CFDateRef, exactMatch as Boolean, stp as ^BOOL, userData as ptr )static long sCountNSLog(@"%@",dt)sCount++*stp = (sCount == 10)// stop enumerationend fnvoid local fn DoItDateComponentsRef leapComps = fn DateComponentsInitDateComponentsSetMonth( leapComps, 2 )DateComponentsSetDay( leapComps, 29 )CalendarEnumerateDates( fn CalendarCurrent, fn DateInit, leapComps, NSCalendarMatchStrictly + NSCalendarSearchBackwards, @fn MyEnumerateDates, NULL )end fnfn DoItHandleEvents