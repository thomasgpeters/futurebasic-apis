/*  ColorList Demo*/_window = 1begin enum 1_label_viewend enumvoid local fn ViewDrawRect( tag as NSInteger )BezierPathStrokeFillRect( fn ViewBounds( tag ), 4.0, fn ColorBlack, fn ColorPanelColor )end fnvoid local fn BuildWindowwindow _window, @"ColorList Demo", ( 0, 0, 520, 520 ), NSWindowStyleMaskTitledtextlabel _label, @"Take a look at 'MyColorList' in the Colors Panel.", (3,503,253,14)ControlSetSize( _label, NSControlSizeSmall )subclass view _view, (20,20,480,480)ColorPanelSetPickerMask( NSColorPanelColorListModeMask )ColorPanelSetPickerMode( NSColorPanelModeColorList )ColorPanelSetMode( NSColorPanelModeWheel )ColorListRef cl = fn ColorListWithName( @"MyColorList" )ColorListSetColor( cl, fn ColorWithRGB(0.831,0.686,0.216,1.0), @"Gold" )ColorListSetColor( cl, fn ColorWithRGB(0.737,0.776,0.8,1.0), @"Silver" )ColorListSetColor( cl, fn ColorWithRGB(0.337,0.290,0.227,1.0), @"Bronze" )ColorPanelAttachColorList( cl )ColorPanelSetColor( fn ColorListColorWithKey( cl, @"Silver" ) )ColorPanelShowend fnvoid local fn DoDialog( ev as long )select ( ev )case _viewMouseDown : ColorPanelShowcase _viewDrawRect : fn ViewDrawRect (_view)case _colorPanelChangeColor : ViewSetNeedsDisplay( _view )end selectend fnfn BuildWindowon dialog fn DoDialogHandleEvents