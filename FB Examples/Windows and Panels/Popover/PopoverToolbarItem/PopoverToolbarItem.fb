_window = 1begin enum 1_showBtnend enum_toolbar = 1begin enum 1_tbComputerItemend enum_popover = 2begin enum 1_poLabel_poBtnend enumvoid local fn DoIttoolbar _toolbartoolbaritem _tbComputerItem, @"Computer", @"Computer", fn ImageNamed( NSImageNameComputer )window _window, @"ToolbarItem Popover"WindowSetToolbar( _window, _toolbar )button _showBtn,,, @"Show", (13,13,79,32)popover _popover, (0,0,200,90), NSPopoverBehaviorTransienttextlabel _poLabel, @"My ToolbarItem Popover", (20,54,160,17)button _poBtn,,, @"Tink", (60,13,79,32)ButtonSetSoundNamed( _poBtn, @"Tink" )end fnvoid local fn DoDialog( ev as long, tag as long, wnd as long )select ( ev )case _btnClickselect ( wnd )case _windowselect ( tag )case _showBtnPopoverShowRelativeToToolbarItem( _popover, _toolbar, _tbComputerItem )end selectend selectend selectend fnfn DoIton dialog fn DoDialogHandleEvents