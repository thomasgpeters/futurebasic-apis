/*  SavePanel Sheet*/include "NSLog.incl"// window_window = 1_saveBtn = 1// save panel_savePanel = 1void local fn ShowSavePanelsavepanel _savePanel, @"Save a file", @"com.microsoft.bmp",,,, YESend fnvoid local fn DoDialog( ev as long, tag as long, wnd as long, obj as CFTypeRef )select ( ev )case _btnClickselect ( tag )case _saveBtn : fn ShowSavePanelend selectcase _savePanelDidEndif ( obj )NSLog(@"%@",obj)// do something with url - such as write the file using the urlelseNSLog(@"User cancelled")end ifend selectend fnwindow 1, @"SavePanel - sheet", (0,0,550,400)button 1,,, @"Saveâ€¦"on dialog fn DoDialogHandleEvents