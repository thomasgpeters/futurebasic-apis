_window = 1begin enum 1_showAlertBtnend enum_alert = 101void local fn BuildWindowwindow _windowbutton _showAlertBtn,,, @"Show Alert", (13,13,100,32)end fnvoid local fn ShowAlertSecureTextFieldRef fld = fn SecureTextFieldInit( 0, fn CGRectMake(0,0,134,21) )AlertSetAccessoryView( _alert, fld )alert _alert,, @"Enter your password.",, @"OK;Cancel"end fnvoid local fn DoAppEvent( ev as long )select ( ev )case _appDidFinishLaunching : fn BuildWindowend selectend fnvoid local fn DoDialog( ev as long, tag as long, wnd as long )select ( ev )case _btnClickselect ( wnd )case 1select ( tag )case 1 : fn ShowAlertend selectend selectcase _alertDidEndif ( tag == NSAlertFirstButtonReturn )SecureTextFieldRef fld = fn AlertAccessoryView(wnd)window _windowcls : print fn ControlStringValue(fld)end ifend selectend fnon appevent fn DoAppEventon dialog fn DoDialogHandleEvents