_mainWindow = 1_sheetWindow = 2void local fn LoadWindowsNibWindow _mainWindow, @"MainWindow"NibWindow -_sheetWindow, @"SheetWindow"end fnvoid local fn DoDialog( ev as long, id as long, wnd as long )CFStringRef stringselect ( ev )case _btnClickselect ( wnd )case _mainWindowWindowBeginSheet( _mainWindow, _sheetWindow )case _sheetWindowselect ( id )case 1string = fn ControlStringValue( 3 )WindowEndSheet( _mainWindow, _sheetWindow )textfield 2,, string,,_mainWindowcase 2WindowEndSheet( _mainWindow, _sheetWindow )end selectend selectend selectend fnfn LoadWindowseditmenu 1on dialog fn DoDialogHandleEvents