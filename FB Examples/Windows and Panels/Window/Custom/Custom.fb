// macOS 10.11+_window = 1begin enum 1_view_btn_labelend enumvoid local fn BuildWindowCGRect       rCALayerRef   layerr = fn CGRectMake(0,0,450,150)subclass window _window,, r, NSWindowStyleMaskBorderlessWindowSetBackgroundColor( _window, fn ColorClear )ViewSetWantsLayer( _windowContentViewTag, YES )layer = fn ViewLayer( _windowContentViewTag )CALayerSetCornerRadius( layer, 40 )CALayerSetBorderWidth( layer, 2 )CALayerSetBorderColor( layer, fn ColorGray )visualeffectview _view, r, NSVisualEffectMaterialMediumLight, NSVisualEffectStateFollowsWindowActiveStatebutton _btn,,, @"", (416,116,14,14),, NSBezelStyleSmallSquareButtonSetImage( _btn, NSImageNameStopProgressFreestandingTemplate )ButtonSetBordered( _btn, NO )textlabel _label, @"Rounded Corner Window", (114,63,244,23)ControlSetFont( _label, fn FontSystemFontOfSize( 20 ) )TextFieldSetTextColor( _label, fn ColorText )end fnvoid local fn DoDialog( ev as long, tag as long, wnd as long, obj as CFTypeRef )select ( ev )case _btnClickselect ( tag )case _btn : endend selectcase _windowMouseDownWindowPerformWindowDragWithEvent( wnd, obj )case _windowCanBecomeKeyWindowDialogEventSetBool(YES)end selectend fnwindow 2fn BuildWindowon dialog fn DoDialogHandleEvents