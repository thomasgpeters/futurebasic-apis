/*  Unicode characters  Ken Shmidheiser 20180603*/_window = 1begin enum output 1_scrollView_textViewend enumCFStringRef local fn ConvertHexToEscapedUnicodeString( hexString as CFStringRef )CFStringRef   result = NULLUInt32        unicodeIntScannerRef scanner = fn ScannerWithString( hexString )if ( fn ScannerScanHexInt( scanner, @unicodeInt ) )result = fn StringWithBytes( @unicodeInt, 4, NSUTF32LittleEndianStringEncoding )else// Conversion failed, invalid inputend ifend fn = resultCFStringRef local fn IntToHexString( value as long )end fn = fn StringWithFormat( @"0x%X", value )void local fn BuildWindowlong iCGRect r = ( 0, 0, 550, 400 )window _window, @"Unicode Converter", rscrollview _scrollView, rViewSetAutoresizingMask( _scrollView, NSViewWidthSizable + NSViewHeightSizable )textview _textView,, _scrollViewCFMutableStringRef testStr = fn MutableStringWithCapacity( 0 )MutableStringAppendString( testStr, fn ConvertHexToEscapedUnicodeString( @"1F34C" ) )MutableStringAppendString( testStr, fn ConvertHexToEscapedUnicodeString( @"1F444" ) )MutableStringAppendString( testStr, fn ConvertHexToEscapedUnicodeString( @"1F41E" ) )MutableStringAppendString( testStr, fn ConvertHexToEscapedUnicodeString( @"1F339" ) )MutableStringAppendString( testStr, fn ConvertHexToEscapedUnicodeString( @"1F354" ) )MutableStringAppendString( testStr, fn ConvertHexToEscapedUnicodeString( @"1F379" ) )for i = 913 to 1113MutableStringAppendString( testStr, fn ConvertHexToEscapedUnicodeString( fn IntToHexString( i) ) )nextTextSetString( _textView, testStr )CFMutableAttributedStringRef storage = (CFMutableAttributedStringRef)fn TextViewTextStorage( _textView )MutableAttributedStringSetFontWithName( storage, @"Menlo", 150 )WindowMakeFirstResponder( _window, _textView )end fneditmenu 1fn BuildWindowHandleEvents