/*  Emoji Fun  Ken Shmidheiser 20180603*/include resources "Emojis.plist"_window = 1begin enum 1_scrollView_textViewend enumCFStringRef local fn ConvertHexToEscapedUnicodeString( hexString as CFStringRef )CFStringRef   result = NULLScannerRef    scannerNSUInteger    unicodeIntscanner = fn ScannerWithString( hexString )if ( fn ScannerScanHexInt( scanner, @unicodeInt ) )result = fn StringWithBytes( @unicodeInt, 4, NSUTF32LittleEndianStringEncoding )end ifend fn = resultvoid local fn LoadEmojisCFArrayRef           arrayCFMutableStringRef   mutStringCFStringRef          string, hexStrCFURLRef url = fn BundleURLForResource( fn BundleMain, @"Emojis", @"plist", NULL )if ( url )array = fn ArrayWithContentsOfURL( url, NULL )if ( array )mutString = fn MutableStringWithCapacity( 0 )for string in arrayhexStr = fn ConvertHexToEscapedUnicodeString( string )MutableStringAppendFormat( mutString, @"%@ %@\n", hexStr, string )nextTextSetString( _textView, mutString )end ifend ifend fnvoid local fn BuildWindowCGRect r = (0,0,200,600)window _window, @"Unicode Converter", rscrollview _scrollView, rViewSetAutoresizingMask( _scrollView, NSViewWidthSizable + NSViewHeightSizable )textview _textView,, _scrollViewTextSetFontWithName( _textView, @"Menlo", 34 )fn LoadEmojisend fneditmenu 1fn BuildWindowHandleEvents