/*  Hyperlink 2  Ken Shmidheiser & Bernie Wylde  This version listens for _viewResetCursorRects to set the cursor to pointing hand  Also, picks up a click in the label with _gestureRecognizerClick instead of setting the link attribute of the attributed string*/_window = 1begin enum 1_hyperlinkLabelend enumlocal fn MakeHyperlinkTextLabel( tag as long, r as CGRect )subclass textlabel tag,, rViewPropertySet( tag, @"url", fn URLWithString(@"https://www.brilorsoftware.com/fb") )CFMutableAttributedStringRef               aString = fn MutableAttributedStringWithString( @"FutureBasic Home Page" )MutableAttributedStringSetForegroundColor( aString, fn ColorLink )MutableAttributedStringSetUnderline(       aString, NSUnderlineStyleSingle )MutableAttributedStringSetAlignment(       aString, NSTextAlignmentCenter  )MutableAttributedStringSetFont(            aString, fn FontLabelFontOfSize( fn FontSystemFontSizeForControlSize(fn ControlSize(tag))))ControlSetAttributedStringValue(      tag, aString )ViewSetClickGestureRecognizer( tag )ViewInitTrackingArea( tag )end fnvoid local fn BuildWindowCGRect r = fn CGRectMake( 0, 0, 400, 150 )window _window, @"TextField Hyperlink", r, NSWindowStyleMaskTitled + NSWindowStyleMaskClosable + NSWindowStyleMaskMiniaturizabler = fn CGRectMake( 20, 70, 360, 17 )fn MakeHyperlinkTextLabel( _hyperlinkLabel, r )end fnvoid local fn DoDialog( ev as long, tag as long )select ( ev )case _gestureRecognizerClickselect ( tag )case _hyperlinkLabel : fn WorkspaceOpenURL( fn ViewProperty( tag, @"url" ) )end selectcase _viewResetCursorRectsselect ( tag )case _hyperlinkLabel : ViewAddCursorRect( tag, fn ViewBounds(tag), fn CursorPointingHand )// FB 7.0.21end selectcase _windowWillClose : endend selectend fnon dialog fn DoDialogfn BuildWindowHandleEvents