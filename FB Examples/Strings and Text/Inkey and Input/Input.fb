/*  input  Ken Shmidheiser  Mods: Bernie Wylde  syntax:    [string =] input [%(x,y)[,]][prompt [, characters [, passFlag [, maxLength [, caseOption ] ] ] ] ]  Pressing 'enter' returns user entered text  Pressing 'esc' returns NULL*/_mFile = 1begin enum_iCloseend enum_mEdit = 2_window = 1begin enum 1_newGameBtnend enumvoid local fn BuildUImenu _mFile,,, @"File" : menu _mFile, _iClose,, @"Close", @"w" : MenuItemSetAction( _mFile, _iClose, @"performClose:" )editmenu _mEditwindow _window, @"Guess The Number", (0,0,600,400), NSWindowStyleMaskTitled + NSWindowStyleMaskClosablebutton _newGameBtn,,, @"Play", (263,13,75,32)end fnvoid local fn GuessTheNumber( name as CFStringRef )long num, winningNumber = rnd(100)CFStringRef guessedNumber = input @"Guess a number between 1 and 100:", @"0123456789", YES, 3if ( guessedNumber = NULL ) then endnum = intval(guessedNumber)while ( 1 )if ( num == winningNumber )cls : printf @"%@, %ld is the winning number!", name, num : exit fnelsecls : printf @"%ld is too %@", num, ( num > winningNumber ) ? @"high" : @"low"end ifguessedNumber = input @"Guess another number:"if ( guessedNumber == NULL ) then endnum = intval(guessedNumber)wendend fnvoid local fn PlayCFStringRef name = fn AppProperty( @"name" )if ( name == NULL )cls : name = input @"What's your name?"if ( name )AppPropertySet( @"name", name )elseendend ifend ifcls : printf @"Welcome, %@! Let's play \"Guess a Number\" (press 'esc' key to quit at any time)\nEnter your guess in the box below", namefn GuessTheNumber( name )end fnvoid local fn DoDialog( ev as long, tag as long, wnd as long )select ( ev )case _btnClick : fn Playcase _windowWillClose : endend selectend fnrandomizeon dialog fn DoDialogfn BuildUIHandleEvents