/*   va_list demo 2*/include "NSLog.incl"void local fn MyFunction( fmt as CFStringRef, ... )va_list     apCFTypeRef   objCFIndex     length, indexUniChar     ucdouble      flong        longVal// initialise ap variableva_start( ap, fmt )// fmt contains a string of one-character argument typeslength = fn CFStringGetLength( fmt )for index = 0 to length - 1uc = fn CFStringGetCharacterAtIndex( fmt, index )select ( uc )case _"i"// longlongVal = fn va_arglong(ap)NSLog(@"arg%ld:\t\t%d",index,longVal)case _"f"// float, doublef = fn va_argdouble(ap)NSLog(@"arg%ld:\t\t%f",index,f)case _"@"// CF objectobj = fn va_argobj(ap)NSLog(@"arg%ld:\t\t%@",index,obj)end selectnext index// clean upva_end( ap )end fnfn MyFunction( @"if@i", 123, 987.654321, @"november", 456 )HandleEvents