include "NSLog.incl"void local fn MyObjectObserver( obj as CFTypeRef, keyPath as CFStringRef, change as CFDictionaryRef, context as ptr )NSLog(@"%@ changed from: \"%@\" to: \"%@\"",keyPath,change[@"old"],change[@"new"])end fnvoid local fn DoItCFMutableDictionaryRef dict = fn MutableDictionaryWithCapacity(0)ObjectAddObserver( dict, @"key1", NSKeyValueObservingOptionNew + NSKeyValueObservingOptionOld, @fn MyObjectObserver, NULL )ObjectAddObserver( dict, @"key3", NSKeyValueObservingOptionNew + NSKeyValueObservingOptionOld, @fn MyObjectObserver, NULL )MutableDictionarySetValueForKey( dict, @"alpha", @"key1" )MutableDictionarySetValueForKey( dict, @"bravo", @"key2" )MutableDictionarySetValueForKey( dict, @"charlie", @"key3" )MutableDictionarySetValueForKey( dict, @"xray", @"key1" )MutableDictionarySetValueForKey( dict, @"yankee", @"key2" )MutableDictionarySetValueForKey( dict, @"zulu", @"key3" )end fnfn DoitHandleEvents