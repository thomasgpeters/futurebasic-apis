/*  Control.incl  Bernie Wylde 20170704  Framework: AppKit  Inherits from: View/Responder/Object  NSControl - https://developer.apple.com/documentation/appkit/nscontrol?language=obj*/// notificationssystem CFStringRef NSControlTextDidBeginEditingNotificationsystem CFStringRef NSControlTextDidChangeNotificationsystem CFStringRef NSControlTextDidEndEditingNotification// ControlSetFormat optionsbegin enum 0_formatCaseInsensitive // 0_formatCaseSensitive   // 1_formatLowercase       // 2_formatUppercase       // 3_formatCapitalize      // 4_formatInteger         // 5_formatUnsignedInteger // 6_formatFloat           // 7_formatUnsignedFloat   // 8_formatPassword = 16end enum// dialog eventsbegin enum not output 1200_controlTextDidBeginEditing_controlTextDidChange_controlTextDidEndEditing_controlTextShouldBeginEditing_controlTextShouldEndEditing_controlDoCommandBySelectorend enum// control function selectorsbegin enum not output_controlState// default_controlEnabled_controlHidden_controlIntValend enum// Classtoolbox fn ControlClass = ClassReftoolbox fn ControlWithTag( NSInteger tag ) = ControlReftoolbox fn ControlExists( NSInteger tag ) = BOOL// Enable and disabletoolbox ControlSetEnabled( NSInteger tag, BOOL flag )toolbox fn ControlIsEnabled( NSInteger tag ) = BOOL// Valuetoolbox fn ControlDoubleValue( NSInteger tag ) = doubletoolbox ControlSetDoubleValue( NSInteger tag, double value )toolbox fn ControlFloatValue( NSInteger tag ) = floattoolbox ControlSetFloatValue( NSInteger tag, float value )toolbox fn ControlIntValue( NSInteger tag ) = SInt32toolbox ControlSetIntValue( NSInteger tag, SInt32 value )toolbox fn ControlIntegerValue( NSInteger tag ) = NSIntegertoolbox ControlSetIntegerValue( NSInteger tag, NSInteger value )toolbox fn ControlObjectValue( NSInteger tag ) = CFTypeReftoolbox ControlSetObjectValue( NSInteger tag, CFTypeRef obj )toolbox fn ControlStringValue( NSInteger tag ) = CFStringReftoolbox ControlSetStringValue( NSInteger tag, CFStringRef string )toolbox fn ControlAttributedStringValue( NSInteger tag ) = CFAttributedStringReftoolbox ControlSetAttributedStringValue( NSInteger tag, CFAttributedStringRef string )// Interacting with other controlstoolbox ControlTakeDoubleValueFrom( NSInteger tag, NSInteger otherCtrlTag )toolbox ControlTakeFloatValueFrom( NSInteger tag, NSInteger otherCtrlTag )toolbox ControlTakeIntValueFrom( NSInteger tag, NSInteger otherCtrlTag )toolbox ControlTakeIntegerValueFrom( NSInteger tag, NSInteger otherCtrlTag )toolbox ControlTakeObjectValueFrom( NSInteger tag, NSInteger otherCtrlTag )toolbox ControlTakeStringValueFrom( NSInteger tag, NSInteger otherCtrlTag )// Formatting texttoolbox fn ControlAlignment( NSInteger tag ) = NSTextAlignmenttoolbox ControlSetAlignment( NSInteger tag, NSTextAlignment alignment )toolbox fn ControlFont( NSInteger tag ) = FontReftoolbox ControlSetFont( NSInteger tag, CTNSFontRef font )toolbox ControlSetFontWithName( NSInteger tag, CFStringRef name, CGFloat size )toolbox fn ControlLineBreakMode( NSInteger tag ) = NSLineBreakModetoolbox ControlSetLineBreakMode( NSInteger tag, NSLineBreakMode mode )toolbox fn ControlUsesSingleLineMode( NSInteger tag ) = BOOLtoolbox ControlSetUsesSingleLineMode( NSInteger tag, BOOL flag )toolbox fn ControlFormatter( NSInteger tag ) = FormatterReftoolbox ControlSetFormatter( NSInteger tag, FormatterRef formatter )toolbox fn ControlBaseWritingDirection( NSInteger tag ) = NSWritingDirectiontoolbox ControlSetBaseWritingDirection( NSInteger tag, NSWritingDirection direction )// Managing expansion tooltipstoolbox ControlDrawWithExpansionFrameInView( NSInteger ctrlTag, CGRect contentFrame, NSInteger vwTag )toolbox fn ControlAllowsExpansionToolTips( NSInteger tag ) = BOOLtoolbox ControlSetAllowsExpansionToolTips( NSInteger tag, BOOL flag )toolbox fn ControlExpansionFrameWithFrame( NSInteger tag, CGRect contentFrame ) = CGRect// Managing the field editortoolbox fn ControlAbortEditing( NSInteger tag ) = BOOLtoolbox fn ControlCurrentEditor( NSInteger tag ) = TextReftoolbox ControlValidateEditing( NSInteger tag )// ...toolbox ControlEndEditing( NSInteger tag, TextRef textObj )// ...// Resizingtoolbox fn ControlSize( NSInteger tag ) = NSControlSizetoolbox ControlSetSize( NSInteger tag, NSControlSize size )toolbox fn ControlSizeThatFits( NSInteger tag, CGSize size ) = CGSizetoolbox ControlSizeToFit( NSInteger tag )// Displaying a celltoolbox fn ControlIsHighlighted( NSInteger tag ) = BOOLtoolbox ControlSetHighlighted( NSInteger tag, BOOL flag )// Target/Actiontoolbox fn ControlAction( NSInteger tag ) = SELReftoolbox fn ControlActionName( NSInteger tag ) = CFStringReftoolbox fn ControlTarget( NSInteger tag ) = ObjectReftoolbox ControlSetAction( NSInteger tag, CFStringRef actionName )toolbox ControlSetTargetAction( NSInteger ctrlTag, NSInteger targetTag, CFStringRef actionName )toolbox fn ControlIsContinuous( NSInteger tag ) = BOOLtoolbox ControlSetContinuous( NSInteger tag, BOOL flag )// sendActionTotoolbox ControlSendActionOn( NSInteger tag, NSEventMask mask )// Tagstoolbox fn ControlTag( ControlRef ref ) = NSIntegertoolbox ControlSetTag( ControlRef ref, NSInteger tag )// Activating from keyboardtoolbox ControlPerformClick( NSInteger tag )toolbox fn ControlRefusesFirstResponder( NSInteger tag ) = BOOLtoolbox ControlSetRefusesFirstResponder( NSInteger tag, BOOL flag )// Tracking the mousetoolbox fn ControlIgnoresMultiClick( NSInteger tag ) = BOOLtoolbox ControlSetIgnoresMultiClick( NSInteger tag, BOOL flag )// Constraint-based layouttoolbox ControlInvalidateIntrinsicContentSizeForCell( NSInteger tag, CellRef cell )// - deprecated -toolbox fn ControlCell( NSInteger tag ) = CellRef// deprecated: 10.11// Custom/*  ControlSetActionCallback  callback examples: (1)  local fn MyCallback  end fn (2)  local fn MyCallback( ctrlTag as NSInteger )  end fn (3)  local fn MyCallback( ctrlTag as NSInteger, wndTag as NSInteger )  end fn (4)  local fn MyCallback( ctrlTag as NSInteger, wndTag as NSInteger, userData as ptr )  end fn*/toolbox ControlSetActionCallback( NSInteger tag, ptr callback, ptr userData )/*  ControlSetFormat  Params    tag:           the control tag    characters:    a string of characters to either pass or block    passBlock:     a BOOL to indicate whether to pass or block the characters    maxLength:     the maximum length of the string in the control. 0 = no limit    option:        0, _formatCaseSensitive, _formatLowercase, _formatUppercase, _formatCapitalize, _formatInteger, _formatUnsignedInteger, _formatFloat, _formatUnsignedFloat*/toolbox ControlSetFormat( NSInteger tag, CFStringRef characters, BOOL passBlock, NSUInteger maxLength, NSUInteger option )/*  ControlFormatterSetIsPartialStringValidCallback  callback example:    local fn MyFormatterCallback( tag as NSInteger, partialStringPtr as ^CFStringRef, proposedSelectedRangePtr as ^CFRange, originalString as CFStringRef, originalSelectedRange as CFRange, errorDescription as ^CFStringRef, userData as ptr )      // ...    end fn// = NO// return NO to reject partialStringPtr  Note: Calling this function disables a previous call to ControlSetFormat*/toolbox ControlFormatterSetIsPartialStringValidCallback( NSInteger tag, ptr callback, ptr userData )/*  ControlSetActionID  An alternative to embedding groups of say radio buttons in separate custom views.  actionID must be in the range 1 - 10.*/toolbox ControlSetActionID( NSInteger tag, NSInteger actionID )toolbox ControlRangeSetActionID( CFRange range, NSInteger actionID )toolbox fn ControlActionIDSelectedButtonTag( NSInteger actionID, NSInteger superviewTag ) = NSInteger// 20231228// Set attributes of multiple controlstoolbox ControlRangeSetEnabled( CFRange range, BOOL flag )toolbox ControlIndexesSetEnabled( IndexSetRef indexes, BOOL flag )toolbox ControlRangeSetSize( CFRange range, NSControlSize size )toolbox ControlIndexesSetSize( IndexSetRef indexes, NSControlSize size )toolbox ControlRangeSetAlignment( CFRange range, NSTextAlignment alignment )toolbox ControlIndexesSetAlignment( IndexSetRef indexes, NSTextAlignment alignment )toolbox ControlRangeSetFont( CFRange range, FontRef font )toolbox ControlIndexesSetFont( IndexSetRef indexes, FontRef font )