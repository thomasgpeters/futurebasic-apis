/*  Menu.incl  Bernie Wylde 20170704  Framework: AppKit  Inherits from: Object  NSMenu - https://developer.apple.com/documentation/appkit/nsmenu?language=objc  syntax:    (1)    menu menuIndex, itemIndex, enabled, title, keyEquivalent, keyEquivalentModifierMask, sectionHeader    (2)    nibmenu nibName*/// properties#if ndef _DEFINEDINCOCOA#define NSMenuProperties as NSUInteger#endifsystem NSMenuProperties NSMenuPropertyItemTitlesystem NSMenuProperties NSMenuPropertyItemAttributedTitlesystem NSMenuProperties NSMenuPropertyItemKeyEquivalentsystem NSMenuProperties NSMenuPropertyItemImagesystem NSMenuProperties NSMenuPropertyItemEnabledsystem NSMenuProperties NSMenuPropertyItemAccessibilityDescription// presentation style#if _MACOSMAXALLOWED >= 140000#if ndef _DEFINEDINCOCOA#define NSMenuPresentationStyle as NSInteger// macOS 14.0+#endifsystem NSMenuPresentationStyle NSMenuPresentationStyleRegular// = 0 // macOS 14.0+system NSMenuPresentationStyle NSMenuPresentationStylePalette// = 1 // macOS 14.0+#endif// 140000// selection mode#if _MACOSMAXALLOWED >= 140000#if ndef _DEFINEDINCOCOA#define NSMenuSelectionMode as NSInteger// macOS 14.0+#endifsystem NSMenuSelectionMode NSMenuSelectionModeAutomatic// = 0 // macOS 14.0+system NSMenuSelectionMode NSMenuSelectionModeSelectOne// = 1 // macOS 14.0+system NSMenuSelectionMode NSMenuSelectionModeSelectAny// = 2 // macOS 14.0+#endif// 140000// notificationssystem CFStringRef NSMenuDidAddItemNotificationsystem CFStringRef NSMenuDidChangeItemNotificationsystem CFStringRef NSMenuDidBeginTrackingNotificationsystem CFStringRef NSMenuDidEndTrackingNotificationsystem CFStringRef NSMenuDidRemoveItemNotificationsystem CFStringRef NSMenuDidSendActionNotificationsystem CFStringRef NSMenuWillSendActionNotification// menu delegate callback eventsbegin enum not output_menuHasKeyEquivalent  // not currently implemented_menuUpdateItem        // not currently implemented_menuConfinementRect   // not currently implemented_menuWillHighlightItem_menuWillOpen_menuDidClose_menuNumberOfItems     // not currently implemented_menuNeedsUpdateend enum// Menu eventtoolbox MenuEventSetBool( BOOL value )// Classtoolbox fn MenuClass = ClassReftoolbox fn MenuAtIndex( NSInteger index ) = MenuReftoolbox fn MenuExists( NSInteger index ) = BOOLtoolbox fn MenuIndex( MenuRef m ) = NSInteger// Menu bartoolbox fn MenuBarVisible = BOOLtoolbox MenuBarSetVisible( BOOL flag )toolbox fn MenuBarHeight = CGFloat// Inittoolbox fn MenuWithTitle( CFStringRef title ) = MenuRef// Add/remove itemstoolbox MenuInsertItem( NSInteger menuID, MenuItemRef item, NSInteger itemID )toolbox fn MenuInsertItemWithTitle( NSInteger menuID, NSInteger itemID, CFStringRef title, CFStringRef keyEquivalent, NSEventModifierFlags keyEquivalentModifierMask ) = MenuItemReftoolbox MenuAddItem( NSInteger menuID, MenuItemRef item )toolbox fn MenuAddItemWithTitle( NSInteger menuID, CFStringRef title, CFStringRef keyEquivalent, NSEventModifierFlags keyEquivalentModifierMask ) = MenuItemReftoolbox MenuRemoveItem( NSInteger menuID, NSInteger itemID )toolbox MenuRemoveAllItems( NSInteger menuID )// Find itemstoolbox fn MenuItemWithTag( NSInteger menuID, NSInteger itemTag ) = MenuItemReftoolbox fn MenuItemWithTitle( NSInteger menuID, CFStringRef title ) = NSIntegertoolbox fn MenuItemAtIndex( NSInteger menuID, NSInteger itemID ) = MenuItemReftoolbox fn MenuNumberOfItems( NSInteger menuID ) = NSIntegertoolbox fn MenuItemArray( NSInteger menuID ) = CFArrayRef#if _MACOSMAXALLOWED >= 101400toolbox MenuSetItemArray( NSInteger menuID, CFArrayRef items )// macOS 10.14+#endif // 101400// Find indices of itemstoolbox fn MenuIndexOfItem( NSInteger menuID, MenuItemRef item ) = NSIntegertoolbox fn MenuIndexOfItemWithTitle( NSInteger menuID, CFStringRef title ) = NSIntegertoolbox fn MenuIndexOfItemWithTag( NSInteger menuID, NSInteger tag ) = NSIntegertoolbox fn MenuIndexOfItemWithRepresentedObject( NSInteger menuID, CFTypeRef obj ) = NSIntegertoolbox fn MenuIndexOfItemWithSubmenu( NSInteger menuID, NSInteger submenuID ) = NSInteger// Submenustoolbox MenuSetSubmenu( NSInteger parMenuID, NSInteger parItemID, NSInteger submenuID )toolbox fn MenuSupermenu( NSInteger menuID ) = MenuReftoolbox fn MenuSupermenuIndex( NSInteger menuID ) = NSInteger// Enable disable itemstoolbox fn MenuAutoenablesItems( NSInteger menuID ) = BOOLtoolbox MenuSetAutoenablesItems( NSInteger menuID, BOOL flag )toolbox MenuUpdate( NSInteger menuID )// Fonttoolbox fn MenuFont( NSInteger menuID ) = CTNSFontReftoolbox MenuSetFont( NSInteger menuID, CTNSFontRef font )toolbox MenuSetFontWithName( NSInteger tag, CFStringRef name, CGFloat size )// Keyboard equivalentstoolbox fn MenuPerformKeyEquivalent( NSInteger menuID, EventRef event ) = BOOL// Simulate mouse clickstoolbox MenuPerformActionForItemAtIndex( NSInteger menuID, NSInteger itemID )// Titletoolbox fn MenuTitle( NSInteger menuID ) = CFStringReftoolbox MenuSetTitle( NSInteger menuID, CFStringRef title )// Sizetoolbox fn MenuMinimumWidth( NSInteger menuID ) = CGFloattoolbox MenuSetMinimumWidth( NSInteger menuID, CGFloat width )toolbox fn MenuSize( NSInteger menuID ) = CGSize// Propertiestoolbox fn MenuPropertiesToUpdate( NSInteger menuID ) = NSMenuProperties// Contextual menustoolbox fn MenuAllowsContextMenuPlugIns( NSInteger menuID ) = BOOLtoolbox MenuSetAllowsContextMenuPlugIns( NSInteger menuID, BOOL flag )// Context-sensitive helptoolbox MenuPopUpContextMenuForView( NSInteger menuID, EventRef event, NSInteger aViewTag )toolbox MenuPopUpContextMenuForViewWithFont( NSInteger menuID, EventRef event, NSInteger aViewTag, FontRef font )toolbox fn MenuPopUp( NSInteger menuID, NSInteger itemID, CGPoint location, NSInteger viewTag ) = BOOL// State columntoolbox fn MenuShowsStateColumn( NSInteger menuID ) = BOOLtoolbox MenuSetShowsStateColumn( NSInteger menuID, BOOL flag )// Highlightingtoolbox fn MenuHighlightedItem( NSInteger menuID ) = NSInteger// User interfacetoolbox fn MenuUserInterfaceLayoutDirection( NSInteger menuID ) = NSUserInterfaceLayoutDirectiontoolbox MenuSetUserInterfaceLayoutDirection( NSInteger menuID, NSUserInterfaceLayoutDirection direction )// Delegate/*  MenuSetDelegateCallback  callback example:    void local fn MyMenuDelegateCallback( ev as long, menuID as long, itemID as long, userData as ptr )      select ( ev )        case _menuWillOpen          // ...        case _menuDidClose          // ...        case _menuNeedsUpdate          // ...      end select    end fn*/toolbox MenuSetDelegateCallback( NSInteger menuID, ptr callback, ptr userData )// Trackingtoolbox MenuCancelTracking( NSInteger menuID )toolbox MenuCancelTrackingWithoutAnimation( NSInteger menuID )// Palette menu#if _MACOSMAXALLOWED >= 140000/*  MenuPaletteMenuWithColors & MenuPaletteMenuWithColorsAndTemplateImage  selection handler:    void local fn MySelectionHandler( m as MenuRef )      ...    end fn*/toolbox fn MenuPaletteMenuWithColors( CFArrayRef colors, CFArrayRef titles, ptr selectionHandler, ptr userData ) = MenuRef                                 // macOS 14.0+toolbox fn MenuPaletteMenuWithColorsAndTemplateImage( CFArrayRef colors, CFArrayRef titles, ImageRef image, ptr selectionHandler, ptr userData ) = MenuRef // macOS 14.0+#endif// 140000// Presentation style#if _MACOSMAXALLOWED >= 140000toolbox fn MenuPresentationStyle( NSInteger menuID ) = NSMenuPresentationStyle      // macOS 14.0+toolbox MenuSetPresentationStyle( NSInteger menuID, NSMenuPresentationStyle style ) // macOS 14.0+toolbox fn MenuSelectionMode( NSInteger menuID ) = NSMenuSelectionMode              // macOS 14.0+toolbox MenuSetSelectionMode( NSInteger menuID, NSMenuSelectionMode mode )          // macOS 14.0+//toolbox fn MenuSelectedItems( NSInteger menuID ) = CFArrayRef                     // macOS 14.0+ // array of MenuItemRefstoolbox MenuSetSelectedItems( NSInteger menuID, CFArrayRef items )                  // macOS 14.0+ // array of MenuItemRefs#endif// 140000toolbox fn MenuSelectedItems( NSInteger menuID ) = CFArrayRef                       // array of MenuItemRefs// Customtoolbox MenuSetTag( NSInteger menuID, NSInteger tag )/*  MenuSetValidateItemsCallback  callback example:    local fn ValidateMenuItems( menuID as long, itemID as long ) as BOOL      BOOL   flag : flag = YES      select ( menuID )        case _mCommand          select ( itemID )            case _iEmptyTrash              // can we do this?              flag = NO// return NO to disable menu item          end select      end select    end fn = flag*/toolbox MenuSetValidateItemsCallback( ptr callback )toolbox MenuSetOneItemOnState( NSInteger menuID, NSInteger itemID )// deprecated: 10.0, use: MenuSelectItemtoolbox MenuSelectItem( NSInteger menuIndex, NSInteger itemIndex )toolbox MenuSelectGroupItem( NSInteger menuID, NSInteger itemID )toolbox fn MenuSelectedItem( NSInteger menuID ) = NSIntegertoolbox fn MenuIsHidden( NSInteger menuID ) = BOOLtoolbox MenuSetHidden( NSInteger menuID, BOOL flag )toolbox fn MenuIsHiddenOrHasHiddenAncestor( NSInteger menuID ) = BOOL// Instance properties#if _MACOSMAXALLOWED >= 150200toolbox fn MenuAutomaticallyInsertsWritingToolsItems( NSInteger menuID ) = BOOL // macOS 15.2toolbox MenuSetAutomaticallyInsertsWritingToolsItems( NSInteger menuID, BOOL flag )// macOS 15.2#endif // 150200/*  MenuProperty  Store an arbitrary value as a property of a menu*/toolbox fn MenuProperty( NSInteger menuID, CFStringRef key ) = CFTypeReftoolbox MenuSetProperty( NSInteger menuID, CFStringRef key, CFTypeRef value ) // same as MenuPropertySettoolbox MenuPropertySet( NSInteger menuID, CFStringRef key, CFTypeRef value )toolbox fn MenuPropertyBool( NSInteger menuID, CFStringRef key ) = BOOLtoolbox MenuPropertySetBool( NSInteger menuID, CFStringRef key, BOOL value )toolbox fn MenuPropertyLong( NSInteger menuID, CFStringRef key ) = longtoolbox MenuPropertySetLong( NSInteger menuID, CFStringRef key, long value )toolbox fn MenuPropertyDouble( NSInteger menuID, CFStringRef key ) = doubletoolbox MenuPropertySetDouble( NSInteger menuID, CFStringRef key, double value )toolbox fn MenuPropertyRect( NSInteger menuID, CFStringRef key ) = CGRecttoolbox MenuPropertySetRect( NSInteger menuID, CFStringRef key, CGRect r )toolbox fn MenuPropertyPoint( NSInteger menuID, CFStringRef key ) = CGPointtoolbox MenuPropertySetPoint( NSInteger menuID, CFStringRef key, CGPoint pt )toolbox fn MenuPropertySize( NSInteger menuID, CFStringRef key ) = CGSizetoolbox MenuPropertySetSize( NSInteger menuID, CFStringRef key, CGSize sz )toolbox fn MenuPropertyRange( NSInteger menuID, CFStringRef key ) = CFRangetoolbox MenuPropertySetRange( NSInteger menuID, CFStringRef key, CFRange range )toolbox fn MenuPropertyBookmarkURL( NSInteger menuID, CFStringRef key ) = CFURLReftoolbox MenuPropertySetBookmarkURL( NSInteger menuID, CFStringRef key, CFURLRef url )toolbox fn MenuPropertyGetBytes( NSInteger menuID, CFStringRef key, ptr bytes ) = BOOLtoolbox MenuPropertySetBytes( NSInteger menuID, CFStringRef key, ptr bytes, long length )toolbox MenuRemoveProperty( NSInteger menuID, CFStringRef key )               // same as MenuPropertyRemovetoolbox MenuPropertyRemove( NSInteger menuID, CFStringRef key )toolbox MenuRemoveAllProperties( NSInteger menuID )                           // same as MenuPropertyRemoveAlltoolbox MenuPropertyRemoveAll( NSInteger menuID )// MenuToolTipstoolbox MenuSetToolTipsHidden( NSInteger menuID, BOOL flag )