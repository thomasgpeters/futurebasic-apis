/*  CMBufferQueue.incl  Bernie Wylde 20241227  Framework: CoreMedia*/#if _MACOSMAXALLOWED >= 101404#if ndef _DEFINEDINCOCOAbegin record CMBufferHandlers // macOS 10.14.4+CMBufferCompareHandler compareCMBufferGetTimeHandler getDurationCMBufferGetTimeHandler getDecodeTimeStampCMBufferGetTimeHandler getPresentationTimeStampCMBufferGetSizeHandler getSizeCMBufferGetBooleanHandler isDataReadyCFStringRef dataBecameReadyNotificationunsigned long versionend record#endif // _DEFINEDINCOCOA#endif // 101404#if ndef _DEFINEDINCOCOAbegin record CMBufferCallbacksCMBufferCompareCallback compareCMBufferGetTimeCallback getDecodeTimeStampCMBufferGetTimeCallback getDurationCMBufferGetTimeCallback getPresentationTimeStampCMBufferGetSizeCallback getSizeCMBufferGetBooleanCallback isDataReadyptr refconUInt32 versionend record#endif // _DEFINEDINCOCOA// trigger condition#if ndef _DEFINEDINCOCOA#define CMBufferQueueTriggerCondition as SInt32#endif // _DEFINEDINCOCOAsystem CMBufferQueueTriggerCondition kCMBufferQueueTrigger_WhenDurationBecomesLessThan                                             // = 1,system CMBufferQueueTriggerCondition kCMBufferQueueTrigger_WhenDurationBecomesLessThanOrEqualTo                                    // = 2,system CMBufferQueueTriggerCondition kCMBufferQueueTrigger_WhenDurationBecomesGreaterThan                                          // = 3,system CMBufferQueueTriggerCondition kCMBufferQueueTrigger_WhenDurationBecomesGreaterThanOrEqualTo                                 // = 4,system CMBufferQueueTriggerCondition kCMBufferQueueTrigger_WhenMinPresentationTimeStampChanges                                     // = 5,system CMBufferQueueTriggerCondition kCMBufferQueueTrigger_WhenMaxPresentationTimeStampChanges                                     // = 6,system CMBufferQueueTriggerCondition kCMBufferQueueTrigger_WhenDataBecomesReady                                                    // = 7,system CMBufferQueueTriggerCondition kCMBufferQueueTrigger_WhenEndOfDataReached                                                    // = 8,system CMBufferQueueTriggerCondition kCMBufferQueueTrigger_WhenReset                                                               // = 9,system CMBufferQueueTriggerCondition kCMBufferQueueTrigger_WhenBufferCountBecomesLessThan                                          // = 10,system CMBufferQueueTriggerCondition kCMBufferQueueTrigger_WhenBufferCountBecomesGreaterThan                                       // = 11,system CMBufferQueueTriggerCondition kCMBufferQueueTrigger_WhenDurationBecomesGreaterThanOrEqualToAndBufferCountBecomesGreaterThan // = 12,// Create#if _MACOSMAXALLOWED >= 101404toolbox fn CMBufferQueueCreateWithHandlers( CFAllocatorRef allocator, CMItemCount capacity, CMBufferHandlers *handlers, CMBufferQueueRef *queueOut ) = OSStatus  // macOS 10.14.4+#endif // 101404toolbox fn CMBufferQueueCreate( CFAllocatorRef allocator, CMItemCount capacity, CMBufferCallbacks *callbacks, CMBufferQueueRef *queueOut ) = OSStatus// Queuetoolbox fn CMBufferQueueEnqueue( CMBufferQueueRef queue, CMBufferRef buf ) = OSStatustoolbox fn CMBufferQueueCallForEachBuffer( CMBufferQueueRef queue, ptr callback, ptr refcon) = OSStatustoolbox fn CMBufferQueueDequeueAndRetain( CMBufferQueueRef queue ) = CMBufferReftoolbox fn CMBufferQueueDequeueIfDataReadyAndRetain( CMBufferQueueRef queue ) = CMBufferReftoolbox fn CMBufferQueueMarkEndOfData( CMBufferQueueRef queue ) = OSStatustoolbox fn CMBufferQueueReset( CMBufferQueueRef queue ) = OSStatustoolbox fn CMBufferQueueResetWithCallback( CMBufferQueueRef queue, ptr callback, ptr refcon ) = OSStatustoolbox fn CMBufferQueueRemoveTrigger( CMBufferQueueRef queue, CMBufferQueueTriggerToken triggerToken ) = OSStatus// Triggers#if _MACOSMAXALLOWED >= 101404/*  CMBufferQueueInstallTriggerHandler  handler:*/toolbox fn CMBufferQueueInstallTriggerHandler( CMBufferQueueRef queue, CMBufferQueueTriggerCondition condition, CMTime t, CMBufferQueueTriggerToken *triggerTokenOut, CMBufferQueueTriggerHandler handler ) = OSStatus // macOS 10.14.4+toolbox fn CMBufferQueueInstallTriggerHandlerWithIntegerThreshold( CMBufferQueueRef queue, CMBufferQueueTriggerCondition condition, CMItemCount threshold, CMBufferQueueTriggerToken *triggerTokenOut, CMBufferQueueTriggerHandler handler ) = OSStatus // macOS 10.14.4+#endif // 101404toolbox fn CMBufferQueueTestTrigger( CMBufferQueueRef queue, CMBufferQueueTriggerToken triggerToken ) = Boolean/*  CMBufferQueueInstallTrigger  callback:*/toolbox fn CMBufferQueueInstallTrigger( CMBufferQueueRef queue, CMBufferQueueTriggerCallback callback, ptr refcon, CMBufferQueueTriggerCondition condition, CMTime t, CMBufferQueueTriggerToken *triggerTokenOut ) = OSStatustoolbox fn CMBufferQueueInstallTriggerWithIntegerThreshold( CMBufferQueueRef queue, CMBufferQueueTriggerCallback callback, ptr refcon, CMBufferQueueTriggerCondition condition, CMItemCount threshold, CMBufferQueueTriggerToken *triggerTokenOut ) = OSStatus// Duration and timingtoolbox fn CMBufferQueueGetDuration( CMBufferQueueRef queue ) = CMTimetoolbox fn CMBufferQueueGetMinDecodeTimeStamp( CMBufferQueueRef queue ) = CMTimetoolbox fn CMBufferQueueGetFirstDecodeTimeStamp( CMBufferQueueRef queue ) = CMTimetoolbox fn CMBufferQueueGetMinPresentationTimeStamp( CMBufferQueueRef queue ) = CMTimetoolbox fn CMBufferQueueGetFirstPresentationTimeStamp( CMBufferQueueRef queue ) = CMTimetoolbox fn CMBufferQueueGetEndPresentationTimeStamp( CMBufferQueueRef queue ) = CMTimetoolbox fn CMBufferQueueGetMaxPresentationTimeStamp( CMBufferQueueRef queue ) = CMTimetoolbox fn CMBufferQueueGetCallbacksForSampleBuffersSortedByOutputPTS = CMBufferCallbackstoolbox fn CMBufferQueueGetCallbacksForUnsortedSampleBuffers = CMBufferCallbacks// Inspect queuetoolbox fn CMBufferQueueIsEmpty( CMBufferQueueRef queue ) = Booleantoolbox fn CMBufferQueueGetBufferCount( CMBufferQueueRef queue ) = CMItemCounttoolbox fn CMBufferQueueGetTotalSize( CMBufferQueueRef queue ) = longtoolbox fn CMBufferQueueContainsEndOfData( CMBufferQueueRef queue ) = Booleantoolbox fn CMBufferQueueIsAtEndOfData( CMBufferQueueRef queue ) = Boolean// Validate queue#if _MACOSMAXALLOWED >= 101404/*  CMBufferQueueSetValidationHandler  handler:*/toolbox fn CMBufferQueueSetValidationHandler( CMBufferQueueRef queue, CMBufferValidationHandler handler ) = OSStatus#endif // 101404/*  CMBufferQueueSetValidationCallback  callback:*/toolbox fn CMBufferQueueSetValidationCallback( CMBufferQueueRef queue, CMBufferValidationCallback callback, ptr refcon ) = OSStatus// Identifiertoolbox fn CMBufferQueueGetTypeID = CFTypeID