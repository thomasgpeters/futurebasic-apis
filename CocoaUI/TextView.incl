/*  TextView.incl  Bernie Wylde 20170704  Framework: AppKit  Inherits from: Text/View/Responder/Object  NSTextView - https://developer.apple.com/documentation/appkit/nstextview?language=objc  Subclass name: TextViewSC  syntax:    textview tag, rect, scrollViewTag, textContainerRef, wndTag  function:    string = textview(tag)*/// selection affinity#if ndef _DEFINEDINCOCOA#define NSSelectionAffinity as NSUInteger#endifsystem NSSelectionAffinity NSSelectionAffinityUpstreamsystem NSSelectionAffinity NSSelectionAffinityDownstream// selection granularity#if ndef _DEFINEDINCOCOA#define NSSelectionGranularity as NSUInteger#endifsystem NSSelectionGranularity NSSelectByCharactersystem NSSelectionGranularity NSSelectByWordsystem NSSelectionGranularity NSSelectByParagraph// notificationssystem CFStringRef NSTextViewDidChangeSelectionNotificationsystem CFStringRef NSTextViewWillChangeNotifyingTextViewNotificationsystem CFStringRef NSTextViewDidChangeTypingAttributesNotification// events - see also Text.inclbegin enum not output 2300// text system objects_textViewUndoManager// controlling display_textViewWillDisplayTooltip// supporting quicklook_textViewURLForContentsOfTextAttachment// managing selection_textViewWillChangeSelectionFromCharacterRange_textViewWillChangeSelectionFromCharacterRanges// not implemented_textViewDidChangeSelection// manage pasteboard_textViewWritablePasteboardTypes_textViewWriteCell// text attributes_textViewShouldChangeTextInRange_textViewShouldChangeTextInRanges_textViewShouldChangeTypingAttributes_textViewDidChangeTypingAttributes// clicking and pasting_textViewClickedOnCell_textViewDoubleClickedOnCell_textViewClickedOnLink// spell checker_textViewShouldSetSpellingState_textViewWillCheckTextInRange_textViewDidCheckTextInRange// dragging_textViewDraggedCell// text completion_textViewCompletions// sharing service picker_textViewWillShowSharingServicePicker// perform commands_textViewDoCommandBySelector// contextual menu_textViewMenu// instance methods_textViewCandidates_textViewCandidatesForSelectedRange_textViewShouldSelectCandidate_textViewWritingToolsWillBegin                     // macOS 15.0+_textViewWritingToolsDidEnd                        // macOS 15.0+_textViewWritingToolsIgnoredRangesInEnclosingRange // macOS 15.0+// subclass events/*  _textViewUpdateFontPanel  _textViewUpdateRuler  _textViewAcceptableDragTypes  _textViewUpdateDragTypeRegistration  _textViewSelectionRangeForProposedRange  _textViewRangeForUserCharacterAttributeChange  _textViewRangesForUserCharacterAttributeChange  _textViewRangeForUserParagraphAttributeChange  _textViewRangesForUserParagraphAttributeChange  _textViewRangeForUserTextChange  _textViewRangesForUserTextChange*/end enumtoolbox fn TextViewEventTextView = TextViewReftoolbox fn TextViewEventFromRange = CFRange// deprecatedtoolbox fn TextViewEventToRange = CFRange// deprecatedtoolbox TextViewEventSetToRange( CFRange range )// deprecated/*toolbox TextViewEventSetUndoManager( UndoManagerRef undoManager )toolbox TextViewEventSetTooltip( CFStringRef string )toolbox fn TextViewEventCharacterIndex = NSUIntegertoolbox fn TextViewEventTextAttachment = TextAttachmentReftoolbox TextViewEventSetURL( CFURLRef url )toolbox fn TextViewEventFromCharacterRange = CFRangetoolbox fn TextViewEventToCharacterRange = CFRangetoolbox TextViewEventSetToCharacterRange( CFRange range )toolbox TextViewEventSetCharacterRange( CFRange range )toolbox fn TextViewEventCharacterRanges = CFArrayReftoolbox TextViewEventSetCharacterRanges( CFArrayRef ranges )toolbox fn TextViewEventNotification = NotificationReftoolbox fn TextViewEventCell = CellReftoolbox TextViewEventSetBool( BOOL flag )toolbox fn TextViewEventPasteboard = PasteboardReftoolbox fn TextViewEventPasteboardType = NSPasteboardTypetoolbox fn TextViewEventString = CFStringReftoolbox fn TextViewEventStrings = CFArrayReftoolbox fn TextViewEventTypingAttributes = CFDictionaryReftoolbox fn TextViewEventToAttributes = CFDictionaryReftoolbox TextViewEventSetAttributes( CFDictionaryRef attributes )toolbox fn TextViewEventCellFrame = CGRecttoolbox fn TextViewEventLink = CFTypeReftoolbox fn TextViewEventSpellingState = NSIntegertoolbox fn TextViewEventTextCheckingOptions = CFDictionaryReftoolbox fn TextViewEventTextCheckingTypes = NSTextCheckingTypestoolbox TextViewEventSetTextCheckingTypes( NSTextCheckingTypes types )toolbox fn TextViewEventTextCheckingResults = CFArrayReftoolbox fn TextViewEventOrthography = OrthographyReftoolbox fn TextViewEventWordCount = NSIntegertoolbox fn TextViewEventEvent = EventReftoolbox fn TextViewEventCompletions = CFArrayReftoolbox fn TextViewEventSharingServicePicker = SharingServicePickerReftoolbox fn TextViewEventItems = CFArrayReftoolbox fn TextViewEventCommandSelector = SELReftoolbox fn TextViewEventMenu = MenuRef*/// See also Text.incl// Classtoolbox fn TextViewClass = ClassReftoolbox fn TextViewWithTag( NSInteger tag ) = TextViewReftoolbox fn TextViewExists( NSInteger tag ) = BOOL// Inittoolbox fn TextViewInit( NSInteger tag, CGRect r ) = TextViewRef// autoreleasedtoolbox TextViewRegisterForServices// Accessing text system objectstoolbox fn TextViewTextContainer( NSInteger tag ) = TextContainerReftoolbox TextViewSetTextContainer( NSInteger tag, TextContainerRef tc )toolbox TextViewReplaceTextContainer( NSInteger tag, TextContainerRef tc )toolbox fn TextViewTextContainerInset( NSInteger tag ) = CGSizetoolbox TextViewSetTextContainerInset( NSInteger tag, CGSize inset )toolbox fn TextViewTextContainerOrigin( NSInteger tag ) = CGPointtoolbox TextViewInvalidateTextContainerOrigin( NSInteger tag )toolbox fn TextViewLayoutManager( NSInteger tag ) = LayoutManagerReftoolbox fn TextViewTextStorage( NSInteger tag ) = TextStorageRef#if _MACOSMAXALLOWED >= 120000//toolbox fn TextViewTextLayoutManager( NSInteger tag ) = TextLayoutManagerRef// macOS 12.0+#endif// 120000// Graphics attributestoolbox fn TextViewBackgroundColor( NSInteger tag ) = ColorReftoolbox TextViewSetBackgroundColor( NSInteger tag, ColorRef col )toolbox fn TextViewDrawsBackground( NSInteger tag ) = BOOLtoolbox TextViewSetDrawsBackground( NSInteger tag, BOOL flag )toolbox fn TextViewAllowsDocumentBackgroundColorChange( NSInteger tag ) = BOOLtoolbox TextViewSetAllowsDocumentBackgroundColorChange( NSInteger tag, BOOL flag )toolbox TextViewChangeDocumentBackgroundColor( NSInteger tag )// Controlling display//...toolbox TextViewShowFindIndicatorForRange( NSInteger tag, CFRange range )// Inserting texttoolbox fn TextViewAllowedInputSourceLocales( NSInteger tag ) = CFArrayRef#if _MACOSMAXALLOWED >= 150000toolbox fn TextViewIsWritingToolsActive( NSInteger tag ) = BOOL// macOS 15.0+#endif // 150000// Behavioral attributestoolbox fn TextViewAllowsUndo( NSInteger tag ) = BOOLtoolbox TextViewSetAllowsUndo( NSInteger tag, BOOL flag )toolbox fn TextViewIsEditable( NSInteger tag ) = BOOLtoolbox TextViewSetEditable( NSInteger tag, BOOL flag )toolbox fn TextViewIsSelectable( NSInteger tag ) = BOOLtoolbox TextViewSetSelectable( NSInteger tag, BOOL flag )toolbox fn TextViewIsFieldEditor( NSInteger tag ) = BOOLtoolbox TextViewSetFieldEditor( NSInteger tag, BOOL flag )toolbox fn TextViewIsRichText( NSInteger tag ) = BOOLtoolbox TextViewSetRichText( NSInteger tag, BOOL flag )toolbox fn TextViewImportsGraphics( NSInteger tag ) = BOOLtoolbox TextViewSetImportsGraphics( NSInteger tag, BOOL flag )toolbox TextViewSetBaseWritingDirection( NSInteger tag, NSWritingDirection direction )toolbox fn TextViewDefaultParagraphStyle( NSInteger tag ) = ParagraphStyleReftoolbox TextViewSetDefaultParagraphStyle( NSInteger tag, ParagraphStyleRef style )toolbox TextViewOutline( NSInteger tag )toolbox fn TextViewAllowsImageEditing( NSInteger tag ) = BOOLtoolbox TextViewSetAllowsImageEditing( NSInteger tag, BOOL flag )toolbox fn TextViewIsAutomaticQuoteSubstitutionEnabled( NSInteger tag ) = BOOLtoolbox TextViewSetAutomaticQuoteSubstitutionEnabled( NSInteger tag, BOOL flag )toolbox TextViewToggleAutomaticQuoteSubstitution( NSInteger tag )toolbox fn TextViewIsAutomaticLinkDetectionEnabled( NSInteger tag ) = BOOLtoolbox TextViewSetAutomaticLinkDetectionEnabled( NSInteger tag, BOOL flag )toolbox TextViewToggleAutomaticLinkDetection( NSInteger tag )toolbox fn TextViewDisplaysLinkToolTips( NSInteger tag ) = BOOLtoolbox TextViewSetDisplaysLinkToolTips( NSInteger tag, BOOL flag )// Formatting controlstoolbox fn TextViewUsesRuler( NSInteger tag ) = BOOLtoolbox TextViewSetUsesRuler( NSInteger tag, BOOL flag )toolbox fn TextViewIsRulerVisible( NSInteger tag ) = BOOLtoolbox TextViewSetRulerVisible( NSInteger tag, BOOL flag )toolbox fn TextViewUsesInspectorBar( NSInteger tag ) = BOOLtoolbox TextViewSetUsesInspectorBar( NSInteger tag, BOOL flag )// Selectiontoolbox fn TextViewSelectedRanges( NSInteger tag ) = CFArrayReftoolbox TextViewSetSelectedRanges( NSInteger tag, CFArrayRef ranges )toolbox TextViewSetSelectedRange( NSInteger tag, CFRange range )toolbox TextViewSetSelectedRangeAffinity( NSInteger tag, CFRange range, NSSelectionAffinity affinity, BOOL stillSelecting )toolbox fn TextViewSelectionAffinity( NSInteger tag ) = NSSelectionAffinitytoolbox fn TextViewSelectionGranularity( NSInteger tag ) = NSSelectionGranularitytoolbox TextViewSetSelectionGranularity( NSInteger tag, NSSelectionGranularity granularity )toolbox fn TextViewInsertionPointColor( NSInteger tag ) = ColorReftoolbox TextViewSetInsertionPointColor( NSInteger tag, ColorRef col )toolbox fn TextViewSelectedTextAttributes( NSInteger tag ) = CFDictionaryReftoolbox TextViewSetSelectedTextAttributes( NSInteger tag, CFDictionaryRef attributes )toolbox fn TextViewMarkedTextAttributes( NSInteger tag ) = CFDictionaryReftoolbox TextViewSetMarkedTextAttributes( NSInteger tag, CFDictionaryRef attributes )toolbox fn TextViewLinkTextAttributes( NSInteger tag ) = CFDictionaryReftoolbox TextViewSetLinkTextAttributes( NSInteger tag, CFDictionaryRef attributes )toolbox fn TextViewCharacterIndexForInsertionAtPoint( NSInteger tag, CGPoint pt ) = NSUInteger// Managing the pasteboardtoolbox fn TextViewReadablePasteboardTypes( NSInteger tag ) = CFArrayReftoolbox fn TextViewWritablePasteboardTypes( NSInteger tag ) = CFArrayRef// Text attributestoolbox TextViewAlignJustified( NSInteger tag )toolbox TextViewChangeAttributes( NSInteger tag )toolbox TextViewChangeColor( NSInteger tag )toolbox TextViewSetAlignment( NSInteger tag, NSTextAlignment alignment, CFRange range )toolbox fn TextViewTypingAttributes( NSInteger tag ) = CFDictionaryReftoolbox TextViewSetTypingAttributes( NSInteger tag, CFDictionaryRef attributes )toolbox TextViewUseStandardKerning( NSInteger tag )toolbox TextViewLowerBaseline( NSInteger tag )toolbox TextViewRaiseBaseline( NSInteger tag )toolbox TextViewTurnOffKerning( NSInteger tag )toolbox TextViewLoosenKerning( NSInteger tag )toolbox TextViewTightenKerning( NSInteger tag )toolbox TextViewUseStandardLigatures( NSInteger tag )toolbox TextViewTurnOffLigatures( NSInteger tag )toolbox TextViewUseAllLigatures( NSInteger tag )// Clicking and pasting// ...toolbox TextViewPasteAsPlainText( NSInteger tag )toolbox TextViewPasteAsRichText( NSInteger tag )// Undo supporttoolbox TextViewBreakUndoCoalescing( NSInteger tag )toolbox fn TextViewIsCoalescingUndo( NSInteger tag ) = BOOL// Subclasses to overridetoolbox fn TextViewRangeForUserTextChange( NSInteger tag ) = CFRange// Spell checkertoolbox fn TextViewIsContinuousSpellCheckingEnabled( NSInteger tag ) = BOOLtoolbox TextViewSetContinuousSpellCheckingEnabled( NSInteger tag, BOOL flag )toolbox TextViewToggleContinuousSpellChecking( NSInteger tag )toolbox fn TextViewIsGrammarCheckingEnabled( NSInteger tag ) = BOOLtoolbox TextViewSetGrammarCheckingEnabled( NSInteger tag, BOOL flag )toolbox TextViewToggleGrammarChecking( NSInteger tag )toolbox TextViewSetSpellingState( NSInteger tag, NSInteger value, CFRange range )// Service pickertoolbox TextViewOrderFrontSharingServicePicker( NSInteger tag )// Ruler view methods// Dragging// Speakingtoolbox TextViewStartSpeaking( NSInteger tag )toolbox TextViewStopSpeaking( NSInteger tag )// Working with panelstoolbox fn TextViewUsesFontPanel( NSInteger tag ) = BOOLtoolbox TextViewSetUsesFontPanel( NSInteger tag, BOOL flag )toolbox fn TextViewUsesFindPanel( NSInteger tag ) = BOOLtoolbox TextViewSetUsesFindPanel( NSInteger tag, BOOL flag )toolbox TextViewOrderFrontLinkPanel( NSInteger tag )toolbox TextViewOrderFrontListPanel( NSInteger tag )toolbox TextViewOrderFrontSpacingPanel( NSInteger tag )toolbox TextViewOrderFrontTablePanel( NSInteger tag )toolbox TextViewOrderFrontSubstitutionsPanel( NSInteger tag )// Text completiontoolbox TextViewComplete( NSInteger tag )toolbox fn TextViewCompletions( NSInteger tag, CFRange partialWordRange, NSInteger *indexOfSelectedItem ) = CFArrayReftoolbox TextViewInsertCompletion( NSInteger tag, CFStringRef theWord, CFRange partialWordRange, NSInteger movement, BOOL isFinal )toolbox fn TextViewRangeForUserCompletion( NSInteger tag ) = CFRange// Text checking and substitions// ...// Supporting quicklooktoolbox TextViewUpdateQuickLookPreviewPanel( NSInteger tag )toolbox TextViewToggleQuickLookPreviewPanel( NSInteger tag )toolbox fn TextViewQuickLookPreviewableItemsInRanges( NSInteger tag, CFArrayRef ranges ) = CFArrayRef// Changing layout orientationtoolbox TextViewChangeLayoutOrientation( NSInteger tag )toolbox TextViewSetLayoutOrientation( NSInteger tag, NSTextLayoutOrientation orientation )// Find bartoolbox fn TextViewUsesFindBar( NSInteger tag ) = BOOLtoolbox TextViewSetUsesFindBar( NSInteger tag, BOOL flag )toolbox fn TextViewIsIncrementalSearchingEnabled( NSInteger tag ) = BOOLtoolbox TextViewSetIncrementalSearchingEnabled( NSInteger tag, BOOL flag )// Instance propertiestoolbox fn TextViewIsAutomaticTextCompletionEnabled( NSInteger tag ) = BOOLtoolbox TextViewSetAutomaticTextCompletionEnabled( NSInteger tag, BOOL flag )#if _MACOSMAXALLOWED >= 101500toolbox fn TextViewUsesAdaptiveColorMappingForDarkAppearance( NSInteger tag ) = BOOL     //macOS 10.15+toolbox TextViewSetUsesAdaptiveColorMappingForDarkAppearance( NSInteger tag, BOOL flag ) //macOS 10.15+#endif// 101500toolbox fn TextViewUsesRolloverButtonForSelection( NSInteger tag ) = BOOLtoolbox TextViewSetUsesRolloverButtonForSelection( NSInteger tag, BOOL flag )// Type propertiestoolbox fn TextViewStronglyReferencesTextStorage = BOOL// Instance methods#if _MACOSMAXALLOWED >= 101400toolbox fn TextViewPerformValidatedReplacementInRange( NSInteger tag, CFRange range, CFAttributedStringRef attributedString ) = BOOL// macOS 10.14+#endif// 101400toolbox TextViewToggleAutomaticTextCompletion( NSInteger tag )toolbox TextViewUpdateCandidates( NSInteger tag )// Type methods#if _MACOSMAXALLOWED >= 101400toolbox fn TextViewFieldEditor = CFTypeRef                                // macOS 10.14+toolbox fn TextViewScrollableDocumentContentTextView = ScrollViewRef      // macOS 10.14+toolbox fn TextViewScrollablePlainDocumentContentTextView = ScrollViewRef // macOS 10.14+toolbox fn TextViewScrollableTextView = ScrollViewRef                     // macOS 10.14+#endif// 101400#if _MACOSMAXALLOWED >= 140000toolbox fn TextViewInlinePredictionType( NSInteger tag ) = NSTextInputTraitType     // macOS 14.0+toolbox TextViewSetInlinePredictionType( NSInteger tag, NSTextInputTraitType type ) // macOS 14.0+#endif // 140000#if _MACOSMAXALLOWED >= 150000toolbox fn TextViewMathExpressionCompletionType( NSInteger tag ) = NSTextInputTraitType     // macOS 15.0+toolbox TextViewSetMathExpressionCompletionType( NSInteger tag, NSTextInputTraitType type ) // macOS 15.0+toolbox fn TextViewTextHighlightAttributes( NSInteger tag ) = CFDictionaryRef               // macOS 15.0+toolbox TextViewSetTextHighlightAttributes( NSInteger tag, CFDictionaryRef attributes )     // macOS 15.0+#if def TextRangeReftoolbox TextViewDrawTextHighlightBackgroundForTextRange( NSInteger tag, TextRangeRef textRange, CGPoint origin ) // macOS 15.0+#endiftoolbox TextViewHighlight( NSInteger tag ) // macOS 15.0+#endif // 150000// Responder action messages#if _MACOSMAXALLOWED >= 101400toolbox TextViewScrollToEndOfDocument( NSInteger tag )// macOS 10.14+#endif// 101400// Conveniencetoolbox TextViewPerformFindPanelAction( NSInteger tag, NSTextFinderAction action )toolbox fn TextViewIsFindBarVisible( NSInteger tag ) = BOOLtoolbox TextViewSetWordWrap( NSInteger tag, BOOL flag )toolbox fn TextViewMutableAttributedString( NSInteger tag ) = CFMutableAttributedStringReftoolbox fn TextViewAttributedString( NSInteger tag ) = CFAttributedStringReftoolbox TextViewSetLinkInRange( NSInteger tag, CFTypeRef link, CFRange range )// link can be string or urltoolbox TextViewSetLink( NSInteger tag, CFTypeRef link )// set all text as a link - link can be string or urltoolbox TextViewAppendString( NSInteger tag, CFStringRef string )toolbox TextViewSetTextBackgroundColor( NSInteger tag, ColorRef col )