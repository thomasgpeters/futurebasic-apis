/*  TextStorage.incl  Bernie Wylde 20180702  Framework: AppKit  Inherits from: MutableAttributedString/AttributedString/Object  NSTextStorage - https://developer.apple.com/documentation/uikit/nstextstorage?language=objc*/#if ndef _DEFINEDINCOCOA#define NSTextStorageEditActions as NSUInteger#endifsystem NSTextStorageEditActions NSTextStorageEditedAttributessystem NSTextStorageEditActions NSTextStorageEditedCharacters// notificationsystem CFStringRef NSTextStorageDidProcessEditingNotificationsystem CFStringRef NSTextStorageWillProcessEditingNotification// Classtoolbox fn TextStorageClass = ClassRef// Layout managerstoolbox fn TextStorageLayoutManagers( TextStorageRef ref ) = CFArrayReftoolbox TextStorageAddLayoutManager( TextStorageRef ref, LayoutManagerRef lm )toolbox TextStorageRemoveLayoutManager( TextStorageRef ref, LayoutManagerRef lm )// Text editing messagestoolbox TextStorageEdited( TextStorageRef ref, NSUInteger editedMask, CFRange editedRange, NSInteger changeInLength )toolbox TextStorageProcessEditing( TextStorageRef ref )// Fixing string attributestoolbox TextStorageInvalidateAttributesInRange( TextStorageRef ref, CFRange range )toolbox TextStorageEnsureAttributesAreFixedInRange( TextStorageRef ref, CFRange range )toolbox fn TextStorageFixesAttributesLazily( TextStorageRef ref ) = BOOL// Nature of changestoolbox fn TextStorageEditedMask( TextStorageRef ref ) = NSUIntegertoolbox fn TextStorageEditedRange( TextStorageRef ref ) = CFRangetoolbox fn TextStorageChangeInLength( TextStorageRef ref ) = NSInteger// Scriptable propertiestoolbox fn TextStorageAttributeRuns( TextStorageRef ref ) = CFArrayReftoolbox TextStorageSetAttributeRuns( TextStorageRef ref, CFArrayRef runs )toolbox fn TextStorageParagraphs( TextStorageRef ref ) = CFArrayReftoolbox TextStorageSetParagraphs( TextStorageRef ref, CFArrayRef paragraphs )toolbox fn TextStorageWords( TextStorageRef ref ) = CFArrayReftoolbox TextStorageSetWords( TextStorageRef ref, CFArrayRef words )toolbox fn TextStorageCharacters( TextStorageRef ref ) = CFArrayReftoolbox TextStorageSetCharacters( TextStorageRef ref, CFArrayRef characters )toolbox fn TextStorageFont( TextStorageRef ref ) = FontReftoolbox TextStorageSetFont( TextStorageRef ref, FontRef font )toolbox fn TextStorageForegroundColor( TextStorageRef ref ) = ColorReftoolbox TextStorageSetForegroundColor( TextStorageRef ref, ColorRef col )// Conveniencetoolbox fn TextStorageWithURL( CFURLRef url, CFDictionaryRef options, CFDictionaryRef *attributes, ErrorRef *err ) = TextStorageRef// Custom/*  TextStorageSetWillProcessEditingCallback  TextStorageSetDidProcessEditingCallback  Callback function example:    local fn MyCallback( ts as TextStorageRef, editedMask as NSTextStorageEditActions, editedRange as CFRange, changeInLength as NSInteger, userData as ptr )    end fn*/toolbox TextStorageSetWillProcessEditingCallback( TextStorageRef ref, ptr callback, ptr userData )toolbox TextStorageSetDidProcessEditingCallback( TextStorageRef ref, ptr callback, ptr userData )